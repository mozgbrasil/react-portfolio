(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{1131:function(e,t,n){"use strict";n.r(t),n.d(t,"h",function(){return a}),n.d(t,"createElement",function(){return a}),n.d(t,"cloneElement",function(){return c}),n.d(t,"createRef",function(){return M}),n.d(t,"Component",function(){return j}),n.d(t,"render",function(){return B}),n.d(t,"rerender",function(){return g}),n.d(t,"options",function(){return r});var o=function(){},r={},i=[],s=[];function a(e,t){var n,a,l,u,p=s;for(u=arguments.length;u-- >2;)i.push(arguments[u]);for(t&&null!=t.children&&(i.length||i.push(t.children),delete t.children);i.length;)if((a=i.pop())&&void 0!==a.pop)for(u=a.length;u--;)i.push(a[u]);else"boolean"===typeof a&&(a=null),(l="function"!==typeof e)&&(null==a?a="":"number"===typeof a?a=String(a):"string"!==typeof a&&(l=!1)),l&&n?p[p.length-1]+=a:p===s?p=[a]:p.push(a),n=l;var c=new o;return c.nodeName=e,c.children=p,c.attributes=null==t?void 0:t,c.key=null==t?void 0:t.key,void 0!==r.vnode&&r.vnode(c),c}function l(e,t){for(var n in t)e[n]=t[n];return e}function u(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}var p="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function c(e,t){return a(e.nodeName,l(l({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var d=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,h=[];function f(e){!e._dirty&&(e._dirty=!0)&&1==h.push(e)&&(r.debounceRendering||p)(g)}function g(){for(var e;e=h.pop();)e._dirty&&D(e)}function y(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function m(e){var t=l({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)u(n,null),u(o,e);else if("class"!==t||r)if("style"===t){if(o&&"string"!==typeof o&&"string"!==typeof n||(e.style.cssText=o||""),o&&"object"===typeof o){if("string"!==typeof n)for(var i in n)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"===typeof o[i]&&!1===d.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var s=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,w,s):e.removeEventListener(t,w,s),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e){try{e[t]=null==o?"":o}catch(l){}null!=o&&!1!==o||"spellcheck"==t||e.removeAttribute(t)}else{var a=r&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!==typeof o&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function w(e){return this._listeners[e.type](r.event&&r.event(e)||e)}var P=[],S=0,_=!1,C=!1;function E(){for(var e;e=P.shift();)r.afterMount&&r.afterMount(e),e.componentDidMount&&e.componentDidMount()}function T(e,t,n,o,r,i){S++||(_=null!=r&&void 0!==r.ownerSVGElement,C=null!=e&&!("__preactattr_"in e));var s=x(e,t,n,o,i);return r&&s.parentNode!==r&&r.appendChild(s),--S||(C=!1,i||E()),s}function x(e,t,n,o,r){var i=e,s=_;if(null!=t&&"boolean"!==typeof t||(t=""),"string"===typeof t||"number"===typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),O(e,!0))),i.__preactattr_=!0,i;var a=t.nodeName;if("function"===typeof a)return function(e,t,n,o){var r=e&&e._component,i=r,s=e,a=r&&e._componentConstructor===t.nodeName,l=a,u=m(t);for(;r&&!l&&(r=r._parentComponent);)l=r.constructor===t.nodeName;r&&l&&(!o||r._component)?(I(r,u,3,n,o),e=r.base):(i&&!a&&(R(i),e=s=null),r=F(t.nodeName,u,n),e&&!r.nextBase&&(r.nextBase=e,s=null),I(r,u,1,n,o),e=r.base,s&&e!==s&&(s._component=null,O(s,!1)));return e}(e,t,n,o);if(_="svg"===a||"foreignObject"!==a&&_,a=String(a),(!e||!y(e,a))&&(i=function(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}(a,_),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),O(e,!0)}var l=i.firstChild,u=i.__preactattr_,p=t.children;if(null==u){u=i.__preactattr_={};for(var c=i.attributes,d=c.length;d--;)u[c[d].name]=c[d].value}return!C&&p&&1===p.length&&"string"===typeof p[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=p[0]&&(l.nodeValue=p[0]):(p&&p.length||null!=l)&&function(e,t,n,o,r){var i,s,a,l,u,p=e.childNodes,c=[],d={},h=0,f=0,g=p.length,m=0,b=t?t.length:0;if(0!==g)for(var w=0;w<g;w++){var P=p[w],S=P.__preactattr_,_=b&&S?P._component?P._component.__key:S.key:null;null!=_?(h++,d[_]=P):(S||(void 0!==P.splitText?!r||P.nodeValue.trim():r))&&(c[m++]=P)}if(0!==b)for(var w=0;w<b;w++){l=t[w],u=null;var _=l.key;if(null!=_)h&&void 0!==d[_]&&(u=d[_],d[_]=void 0,h--);else if(f<m)for(i=f;i<m;i++)if(void 0!==c[i]&&(C=s=c[i],T=r,"string"===typeof(E=l)||"number"===typeof E?void 0!==C.splitText:"string"===typeof E.nodeName?!C._componentConstructor&&y(C,E.nodeName):T||C._componentConstructor===E.nodeName)){u=s,c[i]=void 0,i===m-1&&m--,i===f&&f++;break}u=x(u,l,n,o),a=p[w],u&&u!==e&&u!==a&&(null==a?e.appendChild(u):u===a.nextSibling?v(a):e.insertBefore(u,a))}var C,E,T;if(h)for(var w in d)void 0!==d[w]&&O(d[w],!1);for(;f<=m;)void 0!==(u=c[m--])&&O(u,!1)}(i,p,n,o,C||null!=u.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||b(e,o,n[o],n[o]=void 0,_);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||b(e,o,n[o],n[o]=t[o],_)}(i,t.attributes,u),_=s,i}function O(e,t){var n=e._component;n?R(n):(null!=e.__preactattr_&&u(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||v(e),k(e))}function k(e){for(e=e.lastChild;e;){var t=e.previousSibling;O(e,!0),e=t}}var U=[];function F(e,t,n){var o,r=U.length;for(e.prototype&&e.prototype.render?(o=new e(t,n),j.call(o,t,n)):((o=new j(t,n)).constructor=e,o.render=A);r--;)if(U[r].constructor===e)return o.nextBase=U[r].nextBase,U.splice(r,1),o;return o}function A(e,t,n){return this.constructor(e,n)}function I(e,t,n,o,i){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,"undefined"===typeof e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o)),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===r.syncComponentUpdates&&e.base?f(e):D(e,1,i)),u(e.__ref,e))}function D(e,t,n,o){if(!e._disable){var i,s,a,u=e.props,p=e.state,c=e.context,d=e.prevProps||u,h=e.prevState||p,f=e.prevContext||c,g=e.base,y=e.nextBase,v=g||y,b=e._component,w=!1,_=f;if(e.constructor.getDerivedStateFromProps&&(p=l(l({},p),e.constructor.getDerivedStateFromProps(u,p)),e.state=p),g&&(e.props=d,e.state=h,e.context=f,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(u,p,c)?w=!0:e.componentWillUpdate&&e.componentWillUpdate(u,p,c),e.props=u,e.state=p,e.context=c),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!w){i=e.render(u,p,c),e.getChildContext&&(c=l(l({},c),e.getChildContext())),g&&e.getSnapshotBeforeUpdate&&(_=e.getSnapshotBeforeUpdate(d,h));var C,x,k=i&&i.nodeName;if("function"===typeof k){var U=m(i);(s=b)&&s.constructor===k&&U.key==s.__key?I(s,U,1,c,!1):(C=s,e._component=s=F(k,U,c),s.nextBase=s.nextBase||y,s._parentComponent=e,I(s,U,0,c,!1),D(s,1,n,!0)),x=s.base}else a=v,(C=b)&&(a=e._component=null),(v||1===t)&&(a&&(a._component=null),x=T(a,i,c,n||!g,v&&v.parentNode,!0));if(v&&x!==v&&s!==b){var A=v.parentNode;A&&x!==A&&(A.replaceChild(x,v),C||(v._component=null,O(v,!1)))}if(C&&R(C),e.base=x,x&&!o){for(var j=e,B=e;B=B._parentComponent;)(j=B).base=x;x._component=j,x._componentConstructor=j.constructor}}for(!g||n?P.push(e):w||(e.componentDidUpdate&&e.componentDidUpdate(d,h,_),r.afterUpdate&&r.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);S||o||E()}}function R(e){r.beforeUnmount&&r.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?R(n):t&&(null!=t.__preactattr_&&u(t.__preactattr_.ref,null),e.nextBase=t,v(t),U.push(e),k(t)),u(e.__ref,null)}function j(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function B(e,t,n){return T(n,e,{},!1,t,!1)}function M(){return{}}l(j.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=l(l({},this.state),"function"===typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),f(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),D(this,2)},render:function(){}});var L={h:a,createElement:a,cloneElement:c,createRef:M,Component:j,render:B,rerender:g,options:r};t.default=L},1216:function(e,t,n){var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var s=n(1454),a=n(1832),l=n(2475),u=n(1455),p=n(2477),c=n(2479),d=n(1834),h=n(1639),f=n(1835),g=n(2481),y=n(2482),m=n(2483),v=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o={strings:{youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"This file exceeds maximum allowed size of",youCanOnlyUploadFileTypes:"You can only upload:",companionError:"Connection with Companion failed",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectXFiles:{0:"Select %{smart_count} file",1:"Select %{smart_count} files"},cancel:"Cancel",logOut:"Log out"}},i={id:"uppy",autoProceed:!1,debug:!1,restrictions:{maxFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeFileAdded:function(e,t){return e},onBeforeUpload:function(e){return e},locale:o,store:c()};this.opts=r({},i,t),this.opts.restrictions=r({},i.restrictions,this.opts.restrictions),this.locale=r({},o,this.opts.locale),this.locale.strings=r({},o.strings,this.opts.locale.strings),this.translator=new s({locale:this.locale}),this.i18n=this.translator.translate.bind(this.translator),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this._calculateProgress=this._calculateProgress.bind(this),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=a(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},capabilities:{resumableUploads:!1},totalProgress:0,meta:r({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe(function(e,t,o){n.emit("state-update",e,t,o),n.updateAll(t)}),this.opts.debug&&"undefined"!==typeof window&&(window.uppyLog="",window[this.opts.id]=this),this._addListeners()}return e.prototype.on=function(e,t){return this.emitter.on(e,t),this},e.prototype.off=function(e,t){return this.emitter.off(e,t),this},e.prototype.updateAll=function(e){this.iteratePlugins(function(t){t.update(e)})},e.prototype.setState=function(e){this.store.setState(e)},e.prototype.getState=function(){return this.store.getState()},e.prototype.setFileState=function(e,t){var n;if(!this.getState().files[e])throw new Error("Can\u2019t set state for "+e+" (the file could have been removed)");this.setState({files:r({},this.getState().files,(n={},n[e]=r({},this.getState().files[e],t),n))})},e.prototype.resetProgress=function(){var e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:!1},t=r({},this.getState().files),n={};Object.keys(t).forEach(function(o){var i=r({},t[o]);i.progress=r({},i.progress,e),n[o]=i}),this.setState({files:n,totalProgress:0}),this.emit("reset-progress")},e.prototype.addPreProcessor=function(e){this.preProcessors.push(e)},e.prototype.removePreProcessor=function(e){var t=this.preProcessors.indexOf(e);-1!==t&&this.preProcessors.splice(t,1)},e.prototype.addPostProcessor=function(e){this.postProcessors.push(e)},e.prototype.removePostProcessor=function(e){var t=this.postProcessors.indexOf(e);-1!==t&&this.postProcessors.splice(t,1)},e.prototype.addUploader=function(e){this.uploaders.push(e)},e.prototype.removeUploader=function(e){var t=this.uploaders.indexOf(e);-1!==t&&this.uploaders.splice(t,1)},e.prototype.setMeta=function(e){var t=r({},this.getState().meta,e),n=r({},this.getState().files);Object.keys(n).forEach(function(t){n[t]=r({},n[t],{meta:r({},n[t].meta,e)})}),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:n})},e.prototype.setFileMeta=function(e,t){var n=r({},this.getState().files);if(n[e]){var o=r({},n[e].meta,t);n[e]=r({},n[e],{meta:o}),this.setState({files:n})}else this.log("Was trying to set metadata for a file that\u2019s not with us anymore: ",e)},e.prototype.getFile=function(e){return this.getState().files[e]},e.prototype.getFiles=function(){var e=this.getState().files;return Object.keys(e).map(function(t){return e[t]})},e.prototype._checkMinNumberOfFiles=function(e){var t=this.opts.restrictions.minNumberOfFiles;if(Object.keys(e).length<t)throw new Error(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))},e.prototype._checkRestrictions=function(e){var t=this.opts.restrictions,n=t.maxFileSize,o=t.maxNumberOfFiles,r=t.allowedFileTypes;if(o&&Object.keys(this.getState().files).length+1>o)throw new Error(""+this.i18n("youCanOnlyUploadX",{smart_count:o}));if(r&&!(r.filter(function(t){return t.indexOf("/")>-1?!!e.type&&p(e.type,t):"."===t[0]&&e.extension===t.substr(1)?e.extension:void 0}).length>0)){var i=r.join(", ");throw new Error(this.i18n("youCanOnlyUploadFileTypes")+" "+i)}if(n&&e.data.size>n)throw new Error(this.i18n("exceedsSize")+" "+u(n))},e.prototype.addFile=function(e){var t,n=this,i=this.getState().files,s=this.opts.onBeforeFileAdded(e,i);if(!1!==s){if("object"===("undefined"===typeof s?"undefined":o(s))&&s){if(s.then)throw new TypeError("onBeforeFileAdded() returned a Promise, but this is no longer supported. It must be synchronous.");e=s}var a=d(e),l=void 0;l=e.name?e.name:"image"===a.split("/")[0]?a.split("/")[0]+"."+a.split("/")[1]:"noname";var u=h(l).extension,p=e.isRemote||!1,c=f(e),g=e.meta||{};g.name=l,g.type=a;var y={source:e.source||"",id:c,name:l,extension:u||"",meta:r({},this.getState().meta,g),type:a,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:e.data.size||0,uploadComplete:!1,uploadStarted:!1},size:e.data.size||0,isRemote:p,remote:e.remote||"",preview:e.preview};try{this._checkRestrictions(y)}catch(m){!function(e){var t="object"===("undefined"===typeof e?"undefined":o(e))?e:new Error(e);throw n.log(t.message),n.info(t.message,"error",5e3),t}(m)}this.setState({files:r({},i,(t={},t[c]=y,t))}),this.emit("file-added",y),this.log("Added file: "+l+", "+c+", mime type: "+a),this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){n.scheduledAutoProceed=null,n.upload().catch(function(e){console.error(e.stack||e.message||e)})},4))}else this.log("Not adding file because onBeforeFileAdded returned false")},e.prototype.removeFile=function(e){var t=this,n=this.getState(),o=n.files,i=n.currentUploads,s=r({},o),a=s[e];delete s[e];var l=r({},i),u=[];Object.keys(l).forEach(function(t){var n=i[t].fileIDs.filter(function(t){return t!==e});0!==n.length?l[t]=r({},i[t],{fileIDs:n}):u.push(t)}),this.setState({currentUploads:l,files:s}),u.forEach(function(e){t._removeUpload(e)}),this._calculateTotalProgress(),this.emit("file-removed",a),this.log("File removed: "+a.id),a.preview&&g(a.preview)&&URL.revokeObjectURL(a.preview)},e.prototype.pauseResume=function(e){if(!this.getFile(e).uploadComplete){var t=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}},e.prototype.pauseAll=function(){var e=r({},this.getState().files);Object.keys(e).filter(function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted}).forEach(function(t){var n=r({},e[t],{isPaused:!0});e[t]=n}),this.setState({files:e}),this.emit("pause-all")},e.prototype.resumeAll=function(){var e=r({},this.getState().files);Object.keys(e).filter(function(t){return!e[t].progress.uploadComplete&&e[t].progress.uploadStarted}).forEach(function(t){var n=r({},e[t],{isPaused:!1,error:null});e[t]=n}),this.setState({files:e}),this.emit("resume-all")},e.prototype.retryAll=function(){var e=r({},this.getState().files),t=Object.keys(e).filter(function(t){return e[t].error});t.forEach(function(t){var n=r({},e[t],{isPaused:!1,error:null});e[t]=n}),this.setState({files:e,error:null}),this.emit("retry-all",t);var n=this._createUpload(t);return this._runUpload(n)},e.prototype.cancelAll=function(){var e=this;this.emit("cancel-all"),Object.keys(this.getState().files).forEach(function(t){e.removeFile(t)}),this.setState({totalProgress:0,error:null})},e.prototype.retryUpload=function(e){var t=r({},this.getState().files),n=r({},t[e],{error:null,isPaused:!1});t[e]=n,this.setState({files:t}),this.emit("upload-retry",e);var o=this._createUpload([e]);return this._runUpload(o)},e.prototype.reset=function(){this.cancelAll()},e.prototype._calculateProgress=function(e,t){this.getFile(e.id)?(this.setFileState(e.id,{progress:r({},this.getFile(e.id).progress,{bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:Math.floor((t.bytesUploaded/t.bytesTotal*100).toFixed(2))})}),this._calculateTotalProgress()):this.log("Not setting progress for a file that has been removed: "+e.id)},e.prototype._calculateTotalProgress=function(){var e=r({},this.getState().files),t=Object.keys(e).filter(function(t){return e[t].progress.uploadStarted}),n=100*t.length,o=0;t.forEach(function(t){o+=e[t].progress.percentage});var i=0===n?0:Math.floor((100*o/n).toFixed(2));this.setState({totalProgress:i})},e.prototype._addListeners=function(){var e=this;this.on("error",function(t){e.setState({error:t.message})}),this.on("upload-error",function(t,n){e.setFileState(t.id,{error:n.message}),e.setState({error:n.message});var r=e.i18n("failedToUpload",{file:t.name});"object"===("undefined"===typeof n?"undefined":o(n))&&n.message&&(r={message:r,details:n.message}),e.info(r,"error",5e3)}),this.on("upload",function(){e.setState({error:null})}),this.on("upload-started",function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:t.size}}):e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("upload-progress",this._calculateProgress),this.on("upload-success",function(t,n,o){var i=e.getFile(t.id).progress;e.setFileState(t.id,{progress:r({},i,{uploadComplete:!0,percentage:100,bytesUploaded:i.bytesTotal}),uploadURL:o,isPaused:!1}),e._calculateTotalProgress()}),this.on("preprocess-progress",function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:r({},e.getFile(t.id).progress,{preprocess:n})}):e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("preprocess-complete",function(t){if(e.getFile(t.id)){var n=r({},e.getState().files);n[t.id]=r({},n[t.id],{progress:r({},n[t.id].progress)}),delete n[t.id].progress.preprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("postprocess-progress",function(t,n){e.getFile(t.id)?e.setFileState(t.id,{progress:r({},e.getState().files[t.id].progress,{postprocess:n})}):e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("postprocess-complete",function(t){if(e.getFile(t.id)){var n=r({},e.getState().files);n[t.id]=r({},n[t.id],{progress:r({},n[t.id].progress)}),delete n[t.id].progress.postprocess,e.setState({files:n})}else e.log("Not setting progress for a file that has been removed: "+t.id)}),this.on("restored",function(){e._calculateTotalProgress()}),"undefined"!==typeof window&&window.addEventListener&&(window.addEventListener("online",function(){return e.updateOnlineStatus()}),window.addEventListener("offline",function(){return e.updateOnlineStatus()}),setTimeout(function(){return e.updateOnlineStatus()},3e3))},e.prototype.updateOnlineStatus=function(){"undefined"===typeof window.navigator.onLine||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},e.prototype.getID=function(){return this.opts.id},e.prototype.use=function(e,t){if("function"!==typeof e){var n="Expected a plugin class, but got "+(null===e?"null":"undefined"===typeof e?"undefined":o(e))+". Please verify that the plugin was imported and spelled correctly.";throw new TypeError(n)}var r=new e(this,t),i=r.id;if(this.plugins[r.type]=this.plugins[r.type]||[],!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");var s=this.getPlugin(i);if(s){var a="Already found a plugin named '"+s.id+"'. Tried to use: '"+i+"'.\nUppy plugins must have unique 'id' options. See https://uppy.io/docs/plugins/#id.";throw new Error(a)}return this.plugins[r.type].push(r),r.install(),this},e.prototype.getPlugin=function(e){var t=null;return this.iteratePlugins(function(n){if(n.id===e)return t=n,!1}),t},e.prototype.iteratePlugins=function(e){var t=this;Object.keys(this.plugins).forEach(function(n){t.plugins[n].forEach(e)})},e.prototype.removePlugin=function(e){this.log("Removing plugin "+e.id),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();var t=this.plugins[e.type].slice(),n=t.indexOf(e);-1!==n&&(t.splice(n,1),this.plugins[e.type]=t);var o=this.getState();delete o.plugins[e.id],this.setState(o)},e.prototype.close=function(){var e=this;this.log("Closing Uppy instance "+this.opts.id+": removing all files and uninstalling plugins"),this.reset(),this._storeUnsubscribe(),this.iteratePlugins(function(t){e.removePlugin(t)})},e.prototype.info=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,r="object"===("undefined"===typeof e?"undefined":o(e));this.setState({info:{isHidden:!1,type:t,message:r?e.message:e,details:r?e.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),this.infoTimeoutID=0!==n?setTimeout(this.hideInfo,n):void 0},e.prototype.hideInfo=function(){var e=r({},this.getState().info,{isHidden:!0});this.setState({info:e}),this.emit("info-hidden")},e.prototype.log=function(e,t){if(this.opts.debug){var n="[Uppy] ["+y()+"] "+e;window.uppyLog=window.uppyLog+"\nDEBUG LOG: "+e,"error"!==t?"warning"!==t?e===""+e?console.log(n):(n="[Uppy] ["+y()+"]",console.log(n),console.dir(e)):console.warn(n):console.error(n)}},e.prototype.run=function(){return this.log("Calling run() is no longer necessary.","warning"),this},e.prototype.restore=function(e){return this.log('Core: attempting to restore upload "'+e+'"'),this.getState().currentUploads[e]?this._runUpload(e):(this._removeUpload(e),Promise.reject(new Error("Nonexistent upload")))},e.prototype._createUpload=function(e){var t,n=l();return this.emit("upload",{id:n,fileIDs:e}),this.setState({currentUploads:r({},this.getState().currentUploads,(t={},t[n]={fileIDs:e,step:0,result:{}},t))}),n},e.prototype._getUpload=function(e){return this.getState().currentUploads[e]},e.prototype.addResultData=function(e,t){var n;if(this._getUpload(e)){var o=this.getState().currentUploads,i=r({},o[e],{result:r({},o[e].result,t)});this.setState({currentUploads:r({},o,(n={},n[e]=i,n))})}else this.log("Not setting result for an upload that has been removed: "+e)},e.prototype._removeUpload=function(e){var t=r({},this.getState().currentUploads);delete t[e],this.setState({currentUploads:t})},e.prototype._runUpload=function(e){var t=this,n=this.getState().currentUploads[e],o=n.fileIDs,i=n.step,s=[].concat(this.preProcessors,this.uploaders,this.postProcessors),a=Promise.resolve();return s.forEach(function(n,s){s<i||(a=a.then(function(){var i,a=t.getState().currentUploads,l=r({},a[e],{step:s});return t.setState({currentUploads:r({},a,(i={},i[e]=l,i))}),n(o,e)}).then(function(e){return null}))}),a.catch(function(n){t.emit("error",n,e),t._removeUpload(e)}),a.then(function(){var n=o.map(function(e){return t.getFile(e)}),r=n.filter(function(e){return e&&!e.error}),i=n.filter(function(e){return e&&e.error});t.addResultData(e,{successful:r,failed:i,uploadID:e});var s=t.getState().currentUploads;if(s[e]){var a=s[e].result;return t.emit("complete",a),t._removeUpload(e),a}t.log("Not setting result for an upload that has been removed: "+e)})},e.prototype.upload=function(){var e=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var t=this.getState().files,n=this.opts.onBeforeUpload(t);if(!1===n)return Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false"));if(n&&"object"===("undefined"===typeof n?"undefined":o(n))){if(n.then)throw new TypeError("onBeforeUpload() returned a Promise, but this is no longer supported. It must be synchronous.");t=n}return Promise.resolve().then(function(){return e._checkMinNumberOfFiles(t)}).then(function(){var n=e.getState().currentUploads,o=Object.keys(n).reduce(function(e,t){return e.concat(n[t].fileIDs)},[]),r=[];Object.keys(t).forEach(function(t){var n=e.getFile(t);n.progress.uploadStarted||-1!==o.indexOf(t)||r.push(n.id)});var i=e._createUpload(r);return e._runUpload(i)}).catch(function(t){var n="object"===("undefined"===typeof t?"undefined":o(t))?t.message:t,r="object"===("undefined"===typeof t?"undefined":o(t))?t.details:null;return e.log(n+" "+r),e.info({message:n,details:r},"error",4e3),Promise.reject("object"===("undefined"===typeof t?"undefined":o(t))?t:new Error(t))})},i(e,[{key:"state",get:function(){return this.getState()}}]),e}();e.exports=function(e){return new v(e)},e.exports.Uppy=v,e.exports.Plugin=m},1241:function(e,t,n){(function(t){var n="Expected a function",o=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,p="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,d=p||c||Function("return this")(),h=Object.prototype.toString,f=Math.max,g=Math.min,y=function(){return d.Date.now()};function m(e,t,o){var r,i,s,a,l,u,p=0,c=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(n);function m(t){var n=r,o=i;return r=i=void 0,p=t,a=e.apply(o,n)}function w(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-p>=s}function P(){var e=y();if(w(e))return S(e);l=setTimeout(P,function(e){var n=t-(e-u);return d?g(n,s-(e-p)):n}(e))}function S(e){return l=void 0,h&&r?m(e):(r=i=void 0,a)}function _(){var e=y(),n=w(e);if(r=arguments,i=this,u=e,n){if(void 0===l)return function(e){return p=e,l=setTimeout(P,t),c?m(e):a}(u);if(d)return l=setTimeout(P,t),m(u)}return void 0===l&&(l=setTimeout(P,t)),a}return t=b(t)||0,v(o)&&(c=!!o.leading,s=(d="maxWait"in o)?f(b(o.maxWait)||0,t):s,h="trailing"in o?!!o.trailing:h),_.cancel=function(){void 0!==l&&clearTimeout(l),p=0,r=u=i=l=void 0},_.flush=function(){return void 0===l?a:S(y())},_}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==r}(e))return o;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=a.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?o:+e}e.exports=function(e,t,o){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(n);return v(o)&&(r="leading"in o?!!o.leading:r,i="trailing"in o?!!o.trailing:i),m(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,n(37))},1454:function(e,t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o={locale:{strings:{},pluralize:function(e){return 1===e?0:1}}};this.opts=n({},o,t),this.locale=n({},o.locale,t.locale)}return e.prototype.interpolate=function(e,t){var n=String.prototype,o=n.split,r=n.replace,i=/\$/g,s=[e];for(var a in t)if("_"!==a&&t.hasOwnProperty(a)){var l=t[a];"string"===typeof l&&(l=r.call(t[a],i,"$$$$")),s=u(s,new RegExp("%\\{"+a+"\\}","g"),l)}return s;function u(e,t,n){var r=[];return e.forEach(function(e){o.call(e,t).forEach(function(e,t,o){""!==e&&r.push(e),t<o.length-1&&r.push(n)})}),r}},e.prototype.translate=function(e,t){return this.translateArray(e,t).join("")},e.prototype.translateArray=function(e,t){if(t&&"undefined"!==typeof t.smart_count){var n=this.locale.pluralize(t.smart_count);return this.interpolate(this.opts.locale.strings[e][n],t)}return this.interpolate(this.opts.locale.strings[e],t)},e}()},1455:function(e,t){e.exports=function(e){if("number"!==typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];t&&(e=-e);if(e<1)return(t?"-":"")+e+" B";var o=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),n.length-1);e=Number(e/Math.pow(1e3,o));var r=n[o];return e>=10||e%1===0?(t?"-":"")+e.toFixed(0)+" "+r:(t?"-":"")+e.toFixed(1)+" "+r}},1456:function(e,t,n){var o=n(1131).h;e.exports={defaultTabIcon:function(){return o("svg",{"aria-hidden":"true",width:"30",height:"30",viewBox:"0 0 30 30"},o("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))},iconCopy:function(){return o("svg",{"aria-hidden":"true",class:"UppyIcon",width:"51",height:"51",viewBox:"0 0 51 51"},o("path",{d:"M17.21 45.765a5.394 5.394 0 0 1-7.62 0l-4.12-4.122a5.393 5.393 0 0 1 0-7.618l6.774-6.775-2.404-2.404-6.775 6.776c-3.424 3.427-3.424 9 0 12.426l4.12 4.123a8.766 8.766 0 0 0 6.216 2.57c2.25 0 4.5-.858 6.214-2.57l13.55-13.552a8.72 8.72 0 0 0 2.575-6.213 8.73 8.73 0 0 0-2.575-6.213l-4.123-4.12-2.404 2.404 4.123 4.12a5.352 5.352 0 0 1 1.58 3.81c0 1.438-.562 2.79-1.58 3.808l-13.55 13.55z"}),o("path",{d:"M44.256 2.858A8.728 8.728 0 0 0 38.043.283h-.002a8.73 8.73 0 0 0-6.212 2.574l-13.55 13.55a8.725 8.725 0 0 0-2.575 6.214 8.73 8.73 0 0 0 2.574 6.216l4.12 4.12 2.405-2.403-4.12-4.12a5.357 5.357 0 0 1-1.58-3.812c0-1.437.562-2.79 1.58-3.808l13.55-13.55a5.348 5.348 0 0 1 3.81-1.58c1.44 0 2.792.562 3.81 1.58l4.12 4.12c2.1 2.1 2.1 5.518 0 7.617L39.2 23.775l2.404 2.404 6.775-6.777c3.426-3.427 3.426-9 0-12.426l-4.12-4.12z"}))},iconResume:function(){return o("svg",{"aria-hidden":"true",class:"UppyIcon",width:"25",height:"25",viewBox:"0 0 44 44"},o("polygon",{class:"play",transform:"translate(6, 5.5)",points:"13 21.6666667 13 11 21 16.3333333"}))},iconPause:function(){return o("svg",{"aria-hidden":"true",class:"UppyIcon",width:"25px",height:"25px",viewBox:"0 0 44 44"},o("g",{transform:"translate(18, 17)",class:"pause"},o("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),o("rect",{x:"6",y:"0",width:"2",height:"10",rx:"0"})))},iconRetry:function(){return o("svg",{"aria-hidden":"true",class:"UppyIcon retry",width:"28",height:"31",viewBox:"0 0 16 19",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),o("path",{d:"M7.9 3H10v2H7.9z"}),o("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),o("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))},localIcon:function(){return o("svg",{"aria-hidden":"true",fill:"#607d8b",width:"27",height:"25",viewBox:"0 0 27 25"},o("path",{d:"M5.586 9.288a.313.313 0 0 0 .282.176h4.84v3.922c0 1.514 1.25 2.24 2.792 2.24 1.54 0 2.79-.726 2.79-2.24V9.464h4.84c.122 0 .23-.068.284-.176a.304.304 0 0 0-.046-.324L13.735.106a.316.316 0 0 0-.472 0l-7.63 8.857a.302.302 0 0 0-.047.325z"}),o("path",{d:"M24.3 5.093c-.218-.76-.54-1.187-1.208-1.187h-4.856l1.018 1.18h3.948l2.043 11.038h-7.193v2.728H9.114v-2.725h-7.36l2.66-11.04h3.33l1.018-1.18H3.907c-.668 0-1.06.46-1.21 1.186L0 16.456v7.062C0 24.338.676 25 1.51 25h23.98c.833 0 1.51-.663 1.51-1.482v-7.062L24.3 5.093z"}))},checkIcon:function(){return o("svg",{"aria-hidden":"true",class:"UppyIcon UppyIcon-check",width:"13",height:"9",viewBox:"0 0 13 9"},o("polygon",{points:"5 7.293 1.354 3.647 0.646 4.354 5 8.707 12.354 1.354 11.646 0.647"}))},iconAudio:function(){return o("svg",{"aria-hidden":"true",class:"UppyIcon",width:"55",height:"55",viewBox:"0 0 55 55"},o("path",{d:"M52.66.25c-.216-.19-.5-.276-.79-.242l-31 4.01a1 1 0 0 0-.87.992V40.622C18.174 38.428 15.273 37 12 37c-5.514 0-10 4.037-10 9s4.486 9 10 9 10-4.037 10-9c0-.232-.02-.46-.04-.687.014-.065.04-.124.04-.192V16.12l29-3.753v18.257C49.174 28.428 46.273 27 43 27c-5.514 0-10 4.037-10 9s4.486 9 10 9c5.464 0 9.913-3.966 9.993-8.867 0-.013.007-.024.007-.037V1a.998.998 0 0 0-.34-.75zM12 53c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zm31-10c-4.41 0-8-3.14-8-7s3.59-7 8-7 8 3.14 8 7-3.59 7-8 7zM22 14.1V5.89l29-3.753v8.21l-29 3.754z"}))},iconVideo:function(){return o("svg",{"aria-hidden":"true",class:"UppyIcon",viewBox:"0 0 58 58"},o("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),o("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))},iconPDF:function(){return o("svg",{"aria-hidden":"true",class:"UppyIcon",viewBox:"0 0 342 335"},o("path",{d:"M329.337 227.84c-2.1 1.3-8.1 2.1-11.9 2.1-12.4 0-27.6-5.7-49.1-14.9 8.3-.6 15.8-.9 22.6-.9 12.4 0 16 0 28.2 3.1 12.1 3 12.2 9.3 10.2 10.6zm-215.1 1.9c4.8-8.4 9.7-17.3 14.7-26.8 12.2-23.1 20-41.3 25.7-56.2 11.5 20.9 25.8 38.6 42.5 52.8 2.1 1.8 4.3 3.5 6.7 5.3-34.1 6.8-63.6 15-89.6 24.9zm39.8-218.9c6.8 0 10.7 17.06 11 33.16.3 16-3.4 27.2-8.1 35.6-3.9-12.4-5.7-31.8-5.7-44.5 0 0-.3-24.26 2.8-24.26zm-133.4 307.2c3.9-10.5 19.1-31.3 41.6-49.8 1.4-1.1 4.9-4.4 8.1-7.4-23.5 37.6-39.3 52.5-49.7 57.2zm315.2-112.3c-6.8-6.7-22-10.2-45-10.5-15.6-.2-34.3 1.2-54.1 3.9-8.8-5.1-17.9-10.6-25.1-17.3-19.2-18-35.2-42.9-45.2-70.3.6-2.6 1.2-4.8 1.7-7.1 0 0 10.8-61.5 7.9-82.3-.4-2.9-.6-3.7-1.4-5.9l-.9-2.5c-2.9-6.76-8.7-13.96-17.8-13.57l-5.3-.17h-.1c-10.1 0-18.4 5.17-20.5 12.84-6.6 24.3.2 60.5 12.5 107.4l-3.2 7.7c-8.8 21.4-19.8 43-29.5 62l-1.3 2.5c-10.2 20-19.5 37-27.9 51.4l-8.7 4.6c-.6.4-15.5 8.2-19 10.3-29.6 17.7-49.28 37.8-52.54 53.8-1.04 5-.26 11.5 5.01 14.6l8.4 4.2c3.63 1.8 7.53 2.7 11.43 2.7 21.1 0 45.6-26.2 79.3-85.1 39-12.7 83.4-23.3 122.3-29.1 29.6 16.7 66 28.3 89 28.3 4.1 0 7.6-.4 10.5-1.2 4.4-1.1 8.1-3.6 10.4-7.1 4.4-6.7 5.4-15.9 4.1-25.4-.3-2.8-2.6-6.3-5-8.7z"}))},iconFile:function(){return o("svg",{"aria-hidden":"true",class:"UppyIcon",width:"44",height:"58",viewBox:"0 0 44 58"},o("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))},iconText:function(){return o("svg",{"aria-hidden":"true",class:"UppyIcon",width:"62",height:"62",viewBox:"0 0 62 62",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M4.309 4.309h24.912v53.382h-6.525v3.559h16.608v-3.559h-6.525V4.309h24.912v10.676h3.559V.75H.75v14.235h3.559z","fill-rule":"nonzero",fill:"#000"}))}}},1457:function(e,t,n){var o=n(1843),r=n(2513),i=n(2514);e.exports={RequestClient:o,Provider:r,Socket:i}},1639:function(e,t){e.exports=function(e){var t=/(?:\.([^.]+))?$/.exec(e)[1];return{name:e.replace("."+t,""),extension:t}}},1640:function(e,t,n){var o=n(1456),r=o.iconText,i=o.iconAudio,s=o.iconVideo,a=o.iconPDF;e.exports=function(e){var t={color:"#cbcbcb",icon:""};if(!e)return t;var n=e.split("/")[0],o=e.split("/")[1];return"text"===n?{color:"#cbcbcb",icon:r()}:"audio"===n?{color:"#1abc9c",icon:i()}:"video"===n?{color:"#2980b9",icon:s()}:"application"===n&&"pdf"===o?{color:"#e74c3c",icon:a()}:"image"===n?{color:"#f2f2f2",icon:""}:t}},1641:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(1131),s=i.h,a=i.Component,l=n(2516),u=n(2517),p=n(1844),c=n(1835),d=n(1834),h=n(1842);var f=function(e){function t(){return r(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.props.onUnmount()},t.prototype.render=function(){return this.props.children[0]},t}(a);e.exports=function(){function e(t,n){r(this,e),this.plugin=t,this.Provider=t[t.id];this.opts=o({},{viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0},n),this.addFile=this.addFile.bind(this),this.filterItems=this.filterItems.bind(this),this.filterQuery=this.filterQuery.bind(this),this.toggleSearch=this.toggleSearch.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.checkAuth=this.checkAuth.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleDemoAuth=this.handleDemoAuth.bind(this),this.sortByTitle=this.sortByTitle.bind(this),this.sortByDate=this.sortByDate.bind(this),this.isActiveRow=this.isActiveRow.bind(this),this.isChecked=this.isChecked.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.handleError=this.handleError.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.cancelPicking=this.cancelPicking.bind(this),this.clearSelection=this.clearSelection.bind(this),this.render=this.render.bind(this),this.clearSelection()}return e.prototype.tearDown=function(){},e.prototype._updateFilesAndFolders=function(e,t,n){var o=this;this.plugin.getItemSubList(e).forEach(function(e){o.plugin.isFolder(e)?n.push(e):t.push(e)}),this.plugin.setPluginState({folders:n,files:t})},e.prototype.checkAuth=function(){var e=this;this.plugin.setPluginState({checkAuthInProgress:!0}),this.Provider.checkAuth().then(function(t){e.plugin.setPluginState({checkAuthInProgress:!1}),e.plugin.onAuth(t)}).catch(function(t){e.plugin.setPluginState({checkAuthInProgress:!1}),e.handleError(t)})},e.prototype.getFolder=function(e,t){var n=this;return this._loaderWrapper(this.Provider.list(e),function(o){var r=void 0,i=n.plugin.getPluginState(),s=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(i.directories,function(t){return e===t.id});r=-1!==s?i.directories.slice(0,s+1):i.directories.concat([{id:e,title:t||n.plugin.getItemName(o)}]),n.username=n.username?n.username:n.plugin.getUsername(o),n._updateFilesAndFolders(o,[],[]),n.plugin.setPluginState({directories:r})},this.handleError)},e.prototype.getNextFolder=function(e){var t=this.plugin.getItemRequestPath(e);this.getFolder(t,this.plugin.getItemName(e)),this.lastCheckbox=void 0},e.prototype.addFile=function(e){var t={id:this.providerFileToId(e),source:this.plugin.id,data:this.plugin.getItemData(e),name:this.plugin.getItemName(e)||this.plugin.getItemId(e),type:this.plugin.getMimeType(e),isRemote:!0,body:{fileId:this.plugin.getItemId(e)},remote:{serverUrl:this.plugin.opts.serverUrl,url:""+this.Provider.fileUrl(this.plugin.getItemRequestPath(e)),body:{fileId:this.plugin.getItemId(e)},providerOptions:this.Provider.opts}},n=d(t);n&&h(n)&&(t.preview=this.plugin.getItemThumbnailUrl(e)),this.plugin.uppy.log("Adding remote file");try{this.plugin.uppy.addFile(t)}catch(o){}},e.prototype.removeFile=function(e){var t=this.plugin.getPluginState().currentSelection;this.plugin.setPluginState({currentSelection:t.filter(function(t){return t.id!==e})})},e.prototype.logout=function(){var e=this;this.Provider.logout(location.href).then(function(t){if(t.ok){e.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[]})}}).catch(this.handleError)},e.prototype.filterQuery=function(e){var t=this.plugin.getPluginState();this.plugin.setPluginState(o({},t,{filterInput:e?e.target.value:""}))},e.prototype.toggleSearch=function(e){var t=this.plugin.getPluginState();this.plugin.setPluginState({isSearchVisible:!t.isSearchVisible,filterInput:""})},e.prototype.filterItems=function(e){var t=this,n=this.plugin.getPluginState();return""===n.filterInput?e:e.filter(function(e){return-1!==t.plugin.getItemName(e).toLowerCase().indexOf(n.filterInput.toLowerCase())})},e.prototype.sortByTitle=function(){var e=this,t=o({},this.plugin.getPluginState()),n=t.files,r=t.folders,i=t.sorting,s=n.sort(function(t,n){return"titleDescending"===i?e.plugin.getItemName(n).localeCompare(e.plugin.getItemName(t)):e.plugin.getItemName(t).localeCompare(e.plugin.getItemName(n))}),a=r.sort(function(t,n){return"titleDescending"===i?e.plugin.getItemName(n).localeCompare(e.plugin.getItemName(t)):e.plugin.getItemName(t).localeCompare(e.plugin.getItemName(n))});this.plugin.setPluginState(o({},t,{files:s,folders:a,sorting:"titleDescending"===i?"titleAscending":"titleDescending"}))},e.prototype.sortByDate=function(){var e=this,t=o({},this.plugin.getPluginState()),n=t.files,r=t.folders,i=t.sorting,s=n.sort(function(t,n){var o=new Date(e.plugin.getItemModifiedDate(t)),r=new Date(e.plugin.getItemModifiedDate(n));return"dateDescending"===i?o>r?-1:o<r?1:0:o>r?1:o<r?-1:0}),a=r.sort(function(t,n){var o=new Date(e.plugin.getItemModifiedDate(t)),r=new Date(e.plugin.getItemModifiedDate(n));return"dateDescending"===i?o>r?-1:o<r?1:0:o>r?1:o<r?-1:0});this.plugin.setPluginState(o({},t,{files:s,folders:a,sorting:"dateDescending"===i?"dateAscending":"dateDescending"}))},e.prototype.sortBySize=function(){var e=this,t=o({},this.plugin.getPluginState()),n=t.files,r=t.sorting;if(n.length&&this.plugin.getItemData(n[0]).size){var i=n.sort(function(t,n){var o=e.plugin.getItemData(t).size,i=e.plugin.getItemData(n).size;return"sizeDescending"===r?o>i?-1:o<i?1:0:o>i?1:o<i?-1:0});this.plugin.setPluginState(o({},t,{files:i,sorting:"sizeDescending"===r?"sizeAscending":"sizeDescending"}))}},e.prototype.isActiveRow=function(e){return this.plugin.getPluginState().activeRow===this.plugin.getItemId(e)},e.prototype.isChecked=function(e){return this.plugin.getPluginState().currentSelection.some(function(t){return t===e})},e.prototype.addFolder=function(e){var t=this,n=this.providerFileToId(e),o=this.plugin.getPluginState(),r=o.selectedFolders||{};if(!(n in r&&r[n].loading))return r[n]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:r}),this.Provider.list(this.plugin.getItemRequestPath(e)).then(function(i){var s=[];t.plugin.getItemSubList(i).forEach(function(e){t.plugin.isFolder(e)||(t.addFile(e),s.push(t.providerFileToId(e)))}),(o=t.plugin.getPluginState()).selectedFolders[n]={loading:!1,files:s},t.plugin.setPluginState({selectedFolders:r});var a=t.plugin.uppy.getPlugin("Dashboard"),l=void 0;l=s.length?a.i18n("folderAdded",{smart_count:s.length,folder:t.plugin.getItemName(e)}):a.i18n("emptyFolderAdded"),t.plugin.uppy.info(l)}).catch(function(e){delete(o=t.plugin.getPluginState()).selectedFolders[n],t.plugin.setPluginState({selectedFolders:o.selectedFolders}),t.handleError(e)})},e.prototype.toggleCheckbox=function(e,t){e.stopPropagation(),e.preventDefault();var n=this.plugin.getPluginState(),o=n.folders,r=n.files,i=this.filterItems(o.concat(r));if(this.lastCheckbox&&e.shiftKey){var s=void 0,a=i.indexOf(this.lastCheckbox),l=i.indexOf(t);return s=a<l?i.slice(a,l+1):i.slice(l,a+1),void this.plugin.setPluginState({currentSelection:s})}this.lastCheckbox=t;var u=this.plugin.getPluginState().currentSelection;this.isChecked(t)?this.plugin.setPluginState({currentSelection:u.filter(function(e){return e!==t})}):this.plugin.setPluginState({currentSelection:u.concat([t])})},e.prototype.providerFileToId=function(e){return c({data:this.plugin.getItemData(e),name:this.plugin.getItemName(e)||this.plugin.getItemId(e),type:this.plugin.getMimeType(e)})},e.prototype.handleDemoAuth=function(){var e=this.plugin.getPluginState();this.plugin.setPluginState({},e,{authenticated:!0})},e.prototype.handleAuth=function(){var e=this,t=btoa(JSON.stringify({origin:location.origin})),n=this.Provider.authUrl()+"?state="+t,o=window.open(n,"_blank");window.addEventListener("message",function t(n){e._isOriginAllowed(n.origin,e.plugin.opts.serverPattern)&&n.source===o?(o.close(),window.removeEventListener("message",t),e.Provider.setAuthToken(n.data.token),e._loaderWrapper(e.Provider.checkAuth(),e.plugin.onAuth,e.handleError)):e.plugin.uppy.log("rejecting event from "+n.origin+" vs allowed pattern "+e.plugin.opts.serverPattern)})},e.prototype._isOriginAllowed=function(e,t){var n=function(e){return"string"===typeof e?new RegExp("^"+e+"$"):e instanceof RegExp?e:void 0};return(Array.isArray(t)?t.map(n):[n(t)]).filter(function(e){return null!==e}).some(function(t){return t.test(e)})},e.prototype.handleError=function(e){var t=this.plugin.uppy,n=t.i18n("companionError");t.log(e.toString()),t.info({message:n,details:e.toString()},"error",5e3)},e.prototype.handleScroll=function(e){var t=this,n=e.target.scrollHeight-(e.target.scrollTop+e.target.offsetHeight),o=this.plugin.getNextPagePath?this.plugin.getNextPagePath():null;n<50&&o&&!this._isHandlingScroll&&(this.Provider.list(o).then(function(e){var n=t.plugin.getPluginState(),o=n.files,r=n.folders;t._updateFilesAndFolders(e,o,r)}).catch(this.handleError).then(function(){t._isHandlingScroll=!1}),this._isHandlingScroll=!0)},e.prototype.donePicking=function(){var e=this,t=this.plugin.getPluginState().currentSelection.map(function(t){return e.plugin.isFolder(t)?e.addFolder(t):e.addFile(t)});this._loaderWrapper(Promise.all(t),function(){e.clearSelection();var t=e.plugin.uppy.getPlugin("Dashboard");t&&t.hideAllPanels()},function(){})},e.prototype.cancelPicking=function(){this.clearSelection();var e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()},e.prototype.clearSelection=function(){this.plugin.setPluginState({currentSelection:[]})},e.prototype._loaderWrapper=function(e,t,n){var o=this;e.then(function(e){o.plugin.setPluginState({loading:!1}),t(e)}).catch(function(e){o.plugin.setPluginState({loading:!1}),n(e)}),this.plugin.setPluginState({loading:!0})},e.prototype.render=function(e){var t=this.plugin.getPluginState(),n=t.authenticated,r=t.checkAuthInProgress;if(t.loading)return s(f,{onUnmount:this.clearSelection},s(p,null));if(!n)return s(f,{onUnmount:this.clearSelection},s(l,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,demo:this.plugin.opts.demo,checkAuth:this.checkAuth,handleAuth:this.handleAuth,handleDemoAuth:this.handleDemoAuth,checkAuthInProgress:r}));var i=o({},this.plugin.getPluginState(),{username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.filterItems,filterQuery:this.filterQuery,toggleSearch:this.toggleSearch,sortByTitle:this.sortByTitle,sortByDate:this.sortByDate,logout:this.logout,demo:this.plugin.opts.demo,isActiveRow:this.isActiveRow,isChecked:this.isChecked,toggleCheckbox:this.toggleCheckbox,getItemId:this.plugin.getItemId,getItemName:this.plugin.getItemName,getItemIcon:this.plugin.getItemIcon,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,title:this.plugin.title,viewType:this.opts.viewType,showTitles:this.opts.showTitles,showFilter:this.opts.showFilter,showBreadcrumbs:this.opts.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n});return s(f,{onUnmount:this.clearSelection},s(u,i))},e}()},1832:function(e,t){e.exports=function(){var e={},t=e._fns={};return e.emit=function(e,n,o,r,i,s,a){var l=function(e){var n=t[e]?t[e]:[],o=e.indexOf(":"),r=-1===o?[e]:[e.substring(0,o),e.substring(o+1)],i=Object.keys(t),s=0,a=i.length;for(;s<a;s++){var l=i[s];if("*"===l&&(n=n.concat(t[l])),2===r.length&&r[0]===l){n=n.concat(t[l]);break}}return n}(e);l.length&&function(e,t,n){var o=0,r=t.length;for(;o<r&&t[o];o++)t[o].event=e,t[o].apply(t[o],n)}(e,l,[n,o,r,i,s,a])},e.on=function(e,n){t[e]||(t[e]=[]),t[e].push(n)},e.once=function(t,n){this.on(t,function o(){n.apply(this,arguments),e.off(t,o)})},e.off=function(e,t){var n=[];if(e&&t)for(var o=this._fns[e],r=0,i=o?o.length:0;r<i;r++)o[r]!==t&&n.push(o[r]);n.length?this._fns[e]=n:delete this._fns[e]},e}},1833:function(e,t){e.exports=function(e,t){var n="000000000"+e;return n.substr(n.length-t)}},1834:function(e,t,n){var o=n(1639),r=n(2480);e.exports=function(e){var t=e.name?o(e.name).extension:null;return e.isRemote?e.type?e.type:r[t]:e.type?e.type:t&&r[t]?r[t]:"application/octet-stream"}},1835:function(e,t){e.exports=function(e){return["uppy",e.name?e.name.toLowerCase().replace(/[^A-Z0-9]/gi,""):"",e.type,e.data.size,e.data.lastModified].filter(function(e){return e}).join("-")}},1836:function(e,t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return e&&"object"===("undefined"===typeof e?"undefined":n(e))&&e.nodeType===Node.ELEMENT_NODE}},1837:function(e,t,n){var o=n(1640),r=n(1131).h;e.exports=function(e){var t=e.file;if(t.preview)return r("img",{class:"uppy-DashboardItem-previewImg",alt:t.name,src:t.preview});var n=o(t.type),i=n.color,s=n.icon;return r("div",{class:"uppy-DashboardItem-previewIconWrap"},r("span",{class:"uppy-DashboardItem-previewIcon",style:{color:i}},s),r("svg",{class:"uppy-DashboardItem-previewIconBg",width:"72",height:"93",viewBox:"0 0 72 93"},r("g",null,r("path",{d:"M24.08 5h38.922A2.997 2.997 0 0 1 66 8.003v74.994A2.997 2.997 0 0 1 63.004 86H8.996A2.998 2.998 0 0 1 6 83.01V22.234L24.08 5z",fill:"#FFF"}),r("path",{d:"M24 5L6 22.248h15.007A2.995 2.995 0 0 0 24 19.244V5z",fill:"#E4E4E4"}))))}},1838:function(e,t,n){var o=n(2495),r=n(1456).localIcon,i=n(1131),s=i.h,a=i.Component,l=function(e){return s("a",{tabindex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",class:"uppy-Dashboard-poweredBy"},"Powered by ",s("svg",{"aria-hidden":"true",class:"UppyIcon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},s("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z","fill-rule":"evenodd"})),s("span",{class:"uppy-Dashboard-poweredByUppy"},"Uppy"))},u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(e){this.input.click()},t.prototype.render=function(){var e=this,t=0!==this.props.acquirers.length;return s("div",{class:"uppy-DashboarAddFiles"},t?s("div",{class:"uppy-DashboardTabs"},s(o,{acquirers:this.props.acquirers,handleInputChange:this.props.handleInputChange,i18n:this.props.i18n,i18nArray:this.props.i18nArray,allowedFileTypes:this.props.allowedFileTypes,maxNumberOfFiles:this.props.maxNumberOfFiles}),s("div",{class:"uppy-DashboardTabs-list",role:"tablist"},s("div",{class:"uppy-DashboardTab",role:"presentation"},s("button",{type:"button",class:"uppy-DashboardTab-btn",role:"tab",tabindex:0,onclick:this.handleClick},r(),s("div",{class:"uppy-DashboardTab-name"},this.props.i18n("myDevice"))),s("input",{class:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabindex:-1,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,accept:this.props.allowedFileTypes,onchange:this.props.handleInputChange,value:"",ref:function(t){e.input=t}})),this.props.acquirers.map(function(t){return s("div",{class:"uppy-DashboardTab",role:"presentation"},s("button",{class:"uppy-DashboardTab-btn",type:"button",role:"tab",tabindex:0,"aria-controls":"uppy-DashboardContent-panel--"+t.id,"aria-selected":e.props.activePanel.id===t.id,onclick:function(){return e.props.showPanel(t.id)}},t.icon(),s("div",{class:"uppy-DashboardTab-name"},t.name)))}))):s("div",{class:"uppy-DashboardTabs"},s(o,{acquirers:this.props.acquirers,handleInputChange:this.props.handleInputChange,i18n:this.props.i18n,i18nArray:this.props.i18nArray,allowedFileTypes:this.props.allowedFileTypes,maxNumberOfFiles:this.props.maxNumberOfFiles})),s("div",{class:"uppy-DashboarAddFiles-info"},this.props.note&&s("div",{class:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&l(this.props)))},t}(a);e.exports=u},1839:function(e,t){e.exports=function(e){var t=e.target.tagName;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()}},1840:function(e,t){e.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}},1841:function(e,t){e.exports=function(e,t,n){var o=e.split(",")[1],r=t.mimeType||e.split(",")[0].split(":")[1].split(";")[0];null==r&&(r="plain/text");for(var i=atob(o),s=[],a=0;a<i.length;a++)s.push(i.charCodeAt(a));return n?new File([new Uint8Array(s)],t.name||"",{type:r}):new Blob([new Uint8Array(s)],{type:r})}},1842:function(e,t){e.exports=function(e){if(!e)return!1;var t=e.split("/")[1];return!!/^(jpeg|gif|png|svg|svg\+xml|bmp)$/.test(t)}},1843:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e.exports=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uppy=t,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this)}return e.prototype.onReceiveResponse=function(e){var t,n=this.uppy.getState().companion||{},r=this.opts.serverUrl,i=e.headers;i.has("i-am")&&i.get("i-am")!==n[r]&&this.uppy.setState({companion:o({},n,(t={},t[r]=i.get("i-am"),t))});return e},e.prototype._getUrl=function(e){return/^(https?:|)\/\//.test(e)?e:this.hostname+"/"+e},e.prototype.get=function(e){var t=this;return fetch(this._getUrl(e),{method:"get",headers:this.headers,credentials:"same-origin"}).then(this.onReceiveResponse).then(function(e){return e.json()}).catch(function(n){throw new Error("Could not get "+t._getUrl(e)+". "+n)})},e.prototype.post=function(e,t){var n=this;return fetch(this._getUrl(e),{method:"post",headers:this.headers,credentials:"same-origin",body:JSON.stringify(t)}).then(this.onReceiveResponse).then(function(t){if(t.status<200||t.status>300)throw new Error("Could not post "+n._getUrl(e)+". "+t.statusText);return t.json()}).catch(function(t){throw new Error("Could not post "+n._getUrl(e)+". "+t)})},e.prototype.delete=function(e,t){var n=this;return fetch(this.hostname+"/"+e,{method:"delete",headers:this.headers,credentials:"same-origin",body:t?JSON.stringify(t):null}).then(this.onReceiveResponse).then(function(e){return e.json()}).catch(function(t){throw new Error("Could not delete "+n._getUrl(e)+". "+t)})},r(e,[{key:"hostname",get:function(){var e=this.uppy.getState().companion,t=this.opts.serverUrl;return(e&&e[t]?e[t]:t).replace(/\/$/,"")}},{key:"defaultHeaders",get:function(){return{Accept:"application/json","Content-Type":"application/json"}}},{key:"headers",get:function(){return o({},this.defaultHeaders,this.opts.serverHeaders||{})}}]),e}()},1844:function(e,t,n){var o=n(1131).h;e.exports=function(e){return o("div",{class:"uppy-Provider-loading"},o("span",null,"Loading..."))}},1845:function(e,t,n){var o=n(1131).h;e.exports=function(e){return o("svg",{"aria-hidden":"true",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z","fill-rule":"evenodd"}))}},1846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setItem=function(e,t){if(!o)return;return localStorage.setItem(e,t)},t.getItem=function(e){if(!o)return;return localStorage.getItem(e)},t.removeItem=function(e){if(!o)return;return localStorage.removeItem(e)};var o=!1;try{o="localStorage"in window;var r="tusSupport";localStorage.setItem(r,localStorage.getItem(r))}catch(i){if(i.code!==i.SECURITY_ERR&&i.code!==i.QUOTA_EXCEEDED_ERR)throw i;o=!1}t.canStoreURLs=o},2475:function(e,t,n){var o=n(2476),r=n(1833),i=0,s=4,a=36,l=Math.pow(a,s);function u(){return r((Math.random()*l<<0).toString(a),s)}function p(){return i=i<l?i:0,++i-1}function c(){return"c"+(new Date).getTime().toString(a)+r(p().toString(a),s)+o()+(u()+u())}c.slug=function(){var e=(new Date).getTime().toString(36),t=p().toString(36).slice(-4),n=o().slice(0,1)+o().slice(-1),r=u().slice(-2);return e.slice(-2)+t+n+r},c.isCuid=function(e){return"string"===typeof e&&!!e.startsWith("c")},c.isSlug=function(e){if("string"!==typeof e)return!1;var t=e.length;return t>=7&&t<=10},c.fingerprint=o,e.exports=c},2476:function(e,t,n){var o=n(1833),r="object"===typeof window?window:self,i=Object.keys(r).length,s=o(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+i.toString(36),4);e.exports=function(){return s}},2477:function(e,t,n){var o=n(2478),r=/[\/\+\.]/;e.exports=function(e,t){function n(t){var n=o(t,e,r);return n&&n.length>=2}return t?n(t.split(";")[0]):n}},2478:function(e,t,n){"use strict";function o(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}o.prototype.match=function(e){var t,n,o=!0,r=this.parts,i=r.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(n=(e||"").split(this.separator),t=0;o&&t<i;t++)"*"!==r[t]&&(o=t<n.length&&r[t]===n[t]);o=o&&n}else o=!1;else if("function"==typeof e.splice)for(o=[],t=e.length;t--;)this.match(e[t])&&(o[o.length]=e[t]);else if("object"==typeof e)for(var s in o={},e)this.match(s)&&(o[s]=e[s]);return o},e.exports=function(e,t,n){var r=new o(e,n||/[\/\.]/);return"undefined"!=typeof t?r.match(t):r}},2479:function(e,t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state={},this.callbacks=[]}return e.prototype.getState=function(){return this.state},e.prototype.setState=function(e){var t=n({},this.state),o=n({},this.state,e);this.state=o,this._publish(t,o,e)},e.prototype.subscribe=function(e){var t=this;return this.callbacks.push(e),function(){t.callbacks.splice(t.callbacks.indexOf(e),1)}},e.prototype._publish=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callbacks.forEach(function(e){e.apply(void 0,t)})},e}();e.exports=function(){return new o}},2480:function(e,t){e.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel"}},2481:function(e,t){e.exports=function(e){return 0===e.indexOf("blob:")}},2482:function(e,t){function n(e){return 2!==e.length?0+e:e}e.exports=function(){var e=new Date;return n(e.getHours().toString())+":"+n(e.getMinutes().toString())+":"+n(e.getSeconds().toString())}},2483:function(e,t,n){var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var i=n(1131),s=n(2484);e.exports=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uppy=t,this.opts=n||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}return e.prototype.getPluginState=function(){return this.uppy.getState().plugins[this.id]||{}},e.prototype.setPluginState=function(e){var t,n=this.uppy.getState().plugins;this.uppy.setState({plugins:r({},n,(t={},t[this.id]=r({},n[this.id],e),t))})},e.prototype.update=function(e){"undefined"!==typeof this.el&&this._updateUI&&this._updateUI(e)},e.prototype.onMount=function(){},e.prototype.mount=function(t,n){var r=this,a=n.id,l=s(t);if(l)return this.isTargetDOMEl=!0,this.rerender=function(e){r.uppy.getPlugin(r.id)&&(r.el=i.render(r.render(e),l,r.el))},this._updateUI=function(e){var t=null,n=null;return function(){for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=r,t||(t=Promise.resolve().then(function(){return t=null,e.apply(void 0,n)})),t}}(this.rerender),this.uppy.log("Installing "+a+" to a DOM element"),this.opts.replaceTargetContent&&(l.innerHTML=""),this.el=i.render(this.render(this.uppy.getState()),l),this.onMount(),this.el;var u=void 0;if("object"===("undefined"===typeof t?"undefined":o(t))&&t instanceof e)u=t;else if("function"===typeof t){var p=t;this.uppy.iteratePlugins(function(e){if(e instanceof p)return u=e,!1})}if(u)return this.uppy.log("Installing "+a+" to "+u.id),this.parent=u,this.el=u.addTarget(n),this.onMount(),this.el;throw this.uppy.log("Not installing "+a),new Error("Invalid target option given to "+a+". Please make sure that the element \n      exists on the page, or that the plugin you are targeting has been installed. Check that the <script> tag initializing Uppy \n      comes at the bottom of the page, before the closing </body> tag (see https://github.com/transloadit/uppy/issues/1042).")},e.prototype.render=function(e){throw new Error("Extend the render method to add your plugin to a DOM element")},e.prototype.addTarget=function(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},e.prototype.unmount=function(){this.isTargetDOMEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype.install=function(){},e.prototype.uninstall=function(){this.unmount()},e}()},2484:function(e,t,n){var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1836);e.exports=function(e){return"string"===typeof e?document.querySelector(e):"object"===("undefined"===typeof e?"undefined":o(e))&&r(e)?e:void 0}},2485:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var r=n(1216).Plugin,i=n(1454),s=n(2486),a=n(2489),l=n(2502),u=n(2508),p=n(2509),c=n(2510),d=n(2511),h=n(1455),f=n(217).default||n(217),g=n(1456).defaultTabIcon,y=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];e.exports=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));s.id=s.opts.id||"Dashboard",s.title="Dashboard",s.type="orchestrator",s.modalName="uppy-Dashboard";var a={strings:{selectToUpload:"Select files to upload",closeModal:"Close Modal",upload:"Upload",importFrom:"Import from %{name}",addingMoreFiles:"Adding more files",addMoreFiles:"Add more files",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",fileSource:"File source: %{name}",done:"Done",back:"Back",name:"Name",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",edit:"Edit",finishEditingFile:"Finish editing file",saveChanges:"Save changes",cancel:"Cancel",localDisk:"Local Disk",myDevice:"My Device",dropPasteImport:"Drop files here, paste, %{browse} or import from",dropPaste:"Drop files here, paste or %{browse}",browse:"browse",fileProgress:"File progress: upload speed and ETA",numberOfSelectedFiles:"Number of selected files",uploadAllNewFiles:"Upload all new files",emptyFolderAdded:"No files were added from empty folder",uploadComplete:"Upload complete",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}},l={target:"body",metaFields:[],trigger:"#uppy-select-files",inline:!1,width:750,height:550,thumbnailWidth:280,defaultTabIcon:g,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeCancelButtons:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return s.closeModal()},showSelectedFiles:!0,locale:a,browserBackButtonClose:!1};return s.opts=o({},l,r),s.locale=o({},a,s.opts.locale),s.locale.strings=o({},a.strings,s.opts.locale.strings),s.translator=new i({locale:s.locale}),s.i18n=s.translator.translate.bind(s.translator),s.i18nArray=s.translator.translateArray.bind(s.translator),s.openModal=s.openModal.bind(s),s.closeModal=s.closeModal.bind(s),s.requestCloseModal=s.requestCloseModal.bind(s),s.isModalOpen=s.isModalOpen.bind(s),s.addTarget=s.addTarget.bind(s),s.removeTarget=s.removeTarget.bind(s),s.hideAllPanels=s.hideAllPanels.bind(s),s.showPanel=s.showPanel.bind(s),s.getFocusableNodes=s.getFocusableNodes.bind(s),s.setFocusToFirstNode=s.setFocusToFirstNode.bind(s),s.handlePopState=s.handlePopState.bind(s),s.maintainFocus=s.maintainFocus.bind(s),s.initEvents=s.initEvents.bind(s),s.onKeydown=s.onKeydown.bind(s),s.handleClickOutside=s.handleClickOutside.bind(s),s.toggleFileCard=s.toggleFileCard.bind(s),s.toggleAddFilesPanel=s.toggleAddFilesPanel.bind(s),s.handleDrop=s.handleDrop.bind(s),s.handlePaste=s.handlePaste.bind(s),s.handleInputChange=s.handleInputChange.bind(s),s.render=s.render.bind(s),s.install=s.install.bind(s),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.removeTarget=function(e){var t=this.getPluginState().targets.filter(function(t){return t.id!==e.id});this.setPluginState({targets:t})},t.prototype.addTarget=function(e){var t=e.id||e.constructor.name,n=e.title||t,o=e.type;if("acquirer"===o||"progressindicator"===o||"presenter"===o){var r={id:t,name:n,type:o},i=this.getPluginState().targets.slice();return i.push(r),this.setPluginState({targets:i}),this.el}this.uppy.log("Dashboard: Modal can only be used by plugins of types: acquirer, progressindicator, presenter")},t.prototype.hideAllPanels=function(){this.setPluginState({activePanel:!1,showAddFilesPanel:!1})},t.prototype.showPanel=function(e){var t=this.getPluginState().targets.filter(function(t){return"acquirer"===t.type&&t.id===e})[0];this.setPluginState({activePanel:t})},t.prototype.requestCloseModal=function(){if(this.opts.onRequestCloseModal)return this.opts.onRequestCloseModal();this.closeModal()},t.prototype.getFocusableNodes=function(){var e=this.el.querySelectorAll(y);return Object.keys(e).map(function(t){return e[t]})},t.prototype.setFocusToFirstNode=function(){var e=this.getFocusableNodes();e.length&&e[0].focus()},t.prototype.updateBrowserHistory=function(){var e;history.state&&history.state[this.modalName]||history.pushState(((e={})[this.modalName]=!0,e),"");window.addEventListener("popstate",this.handlePopState,!1)},t.prototype.handlePopState=function(e){e.state&&e.state[this.modalName]||this.closeModal({manualClose:!1}),!this.isModalOpen()&&e.state&&e.state[this.modalName]&&history.go(-1)},t.prototype.setFocusToBrowse=function(){var e=this.el.querySelector(".uppy-Dashboard-browse");e&&e.focus()},t.prototype.maintainFocus=function(e){var t=this.getFocusableNodes(),n=t.indexOf(document.activeElement);e.shiftKey&&0===n&&(t[t.length-1].focus(),e.preventDefault()),e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault())},t.prototype.openModal=function(){var e=this;if(this.savedScrollPosition=window.scrollY,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){this.el.addEventListener("animationend",function t(){e.setPluginState({isHidden:!1}),e.el.removeEventListener("animationend",t,!1)},!1)}else this.setPluginState({isHidden:!1});this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.onKeydown),this.setFocusToBrowse()},t.prototype.closeModal=function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).manualClose,n=void 0===t||t;if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});this.el.addEventListener("animationend",function t(){e.setPluginState({isHidden:!0,isClosing:!1}),e.el.removeEventListener("animationend",t,!1)},!1)}else this.setPluginState({isHidden:!0});document.removeEventListener("keydown",this.onKeydown),this.savedActiveElement.focus(),n&&this.opts.browserBackButtonClose&&history.state&&history.state[this.modalName]&&history.go(-1)},t.prototype.isModalOpen=function(){return!this.getPluginState().isHidden||!1},t.prototype.onKeydown=function(e){27===e.keyCode&&this.requestCloseModal(e),9===e.keyCode&&this.maintainFocus(e)},t.prototype.handleClickOutside=function(){this.opts.closeModalOnClickOutside&&this.requestCloseModal()},t.prototype.handlePaste=function(e){var t=this;d(e.clipboardData.items).forEach(function(e){if("file"===e.kind){var n=e.getAsFile();if(!n)return t.uppy.log("[Dashboard] File pasted, but the file blob is empty"),void t.uppy.info("Error pasting file","error");t.uppy.log("[Dashboard] File pasted");try{t.uppy.addFile({source:t.id,name:e.name,type:e.type,data:n})}catch(o){}}})},t.prototype.handleInputChange=function(e){var t=this;e.preventDefault(),d(e.target.files).forEach(function(e){try{t.uppy.addFile({source:t.id,name:e.name,type:e.type,data:e})}catch(n){}})},t.prototype.initEvents=function(){var e=this,t=c(this.opts.trigger);!this.opts.inline&&t&&t.forEach(function(t){return t.addEventListener("click",e.openModal)}),this.opts.inline||t||this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options unless you are planning to call openModal() method yourself"),this.removeDragDropListener=s(this.el,function(t){e.handleDrop(t)}),this.ro=new f(function(t,n){var o=t,r=Array.isArray(o),i=0;for(o=r?o:o[Symbol.iterator]();;){var s;if(r){if(i>=o.length)break;s=o[i++]}else{if((i=o.next()).done)break;s=i.value}var a=s.contentRect,l=a.width,u=a.height;e.uppy.log("[Dashboard] resized: "+l+" / "+u),e.setPluginState({containerWidth:l,containerHeight:u})}}),this.ro.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",function(t){e.toggleAddFilesPanel(!1),e.hideAllPanels()})},t.prototype.removeEvents=function(){var e=this,t=c(this.opts.trigger);!this.opts.inline&&t&&t.forEach(function(t){return t.removeEventListener("click",e.openModal)}),this.ro.unobserve(this.el.querySelector(".uppy-Dashboard-inner")),this.removeDragDropListener(),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",function(t){return e.toggleAddFilesPanel(!1)})},t.prototype.toggleFileCard=function(e){this.setPluginState({fileCardFor:e||!1})},t.prototype.toggleAddFilesPanel=function(e){this.setPluginState({showAddFilesPanel:e})},t.prototype.handleDrop=function(e){var t=this;this.uppy.log("[Dashboard] Files were dropped"),e.forEach(function(e){try{t.uppy.addFile({source:t.id,name:e.name,type:e.type,data:e})}catch(n){}})},t.prototype.render=function(e){var t=this,n=this.getPluginState(),r=e.files,i=e.capabilities,s=Object.keys(r).filter(function(e){return!r[e].progress.uploadStarted}),l=Object.keys(r).filter(function(e){return!r[e].progress.uploadComplete&&r[e].progress.uploadStarted&&!r[e].isPaused}),u=[];l.forEach(function(e){u.push(r[e])});var p=0,c=0;u.forEach(function(e){p+=e.progress.bytesTotal||0,c+=e.progress.bytesUploaded||0}),p=h(p),c=h(c);var d=function(e){var n=t.uppy.getPlugin(e.id);return o({},e,{icon:n.icon||t.opts.defaultTabIcon,render:n.render})},f=n.targets.filter(function(e){return"acquirer"===e.type&&function(e){var n=t.uppy.getPlugin(e.id);return"function"!==typeof n.isSupported||n.isSupported()}(e)}).map(d),g=n.targets.filter(function(e){return"progressindicator"===e.type}).map(d);return a({state:e,modal:n,newFiles:s,files:r,totalFileCount:Object.keys(r).length,totalProgress:e.totalProgress,acquirers:f,activePanel:n.activePanel,animateOpenClose:this.opts.animateOpenClose,isClosing:n.isClosing,getPlugin:this.uppy.getPlugin,progressindicators:g,autoProceed:this.uppy.opts.autoProceed,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeCancelButtons:this.opts.hidePauseResumeCancelButtons,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,log:this.uppy.log,i18n:this.i18n,i18nArray:this.i18nArray,addFile:this.uppy.addFile,removeFile:this.uppy.removeFile,info:this.uppy.info,note:this.opts.note,metaFields:n.metaFields,resumableUploads:i.resumableUploads||!1,bundled:i.bundled||!1,startUpload:function(e){t.uppy.upload().catch(function(e){t.uppy.log(e.stack||e.message||e)})},pauseUpload:this.uppy.pauseResume,retryUpload:this.uppy.retryUpload,cancelUpload:function(e){t.uppy.emit("upload-cancel",e),t.uppy.removeFile(e)},cancelAll:this.uppy.cancelAll,fileCardFor:n.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:function(e,n){t.uppy.setFileMeta(n,e),t.toggleFileCard()},width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,currentWidth:n.containerWidth,isWide:n.containerWidth>400,containerWidth:n.containerWidth,isTargetDOMEl:this.isTargetDOMEl,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,showSelectedFiles:this.opts.showSelectedFiles})},t.prototype.discoverProviderPlugins=function(){var e=this;this.uppy.iteratePlugins(function(t){t&&!t.target&&t.opts&&t.opts.target===e.constructor&&e.addTarget(t)})},t.prototype.install=function(){var e=this;this.setPluginState({isHidden:!0,showFileCard:!1,showAddFilesPanel:!1,activePanel:!1,metaFields:this.opts.metaFields,targets:[]});var t=this.opts.target;t&&this.mount(t,this),(this.opts.plugins||[]).forEach(function(t){var n=e.uppy.getPlugin(t);n&&n.mount(e,n)}),this.opts.disableStatusBar||this.uppy.use(l,{id:this.id+":StatusBar",target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeCancelButtons:this.opts.hidePauseResumeCancelButtons,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale}),this.opts.disableInformer||this.uppy.use(u,{id:this.id+":Informer",target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(p,{id:this.id+":ThumbnailGenerator",thumbnailWidth:this.opts.thumbnailWidth}),this.discoverProviderPlugins(),this.initEvents()},t.prototype.uninstall=function(){var e=this;if(!this.opts.disableInformer){var t=this.uppy.getPlugin(this.id+":Informer");t&&this.uppy.removePlugin(t)}if(!this.opts.disableStatusBar){var n=this.uppy.getPlugin(this.id+":StatusBar");n&&this.uppy.removePlugin(n)}if(!this.opts.disableThumbnailGenerator){var o=this.uppy.getPlugin(this.id+":ThumbnailGenerator");o&&this.uppy.removePlugin(o)}(this.opts.plugins||[]).forEach(function(t){var n=e.uppy.getPlugin(t);n&&n.unmount()}),this.unmount(),this.removeEvents()},t}(r)},2486:function(e,t,n){e.exports=function(e,t){if("string"===typeof e){var n=e;if(!(e=window.document.querySelector(e)))throw new Error('"'+n+'" does not match any HTML elements')}if(!e)throw new Error('"'+e+'" is not a valid HTML element');"function"===typeof t&&(t={onDrop:t});var a;return e.addEventListener("dragenter",l,!1),e.addEventListener("dragover",u,!1),e.addEventListener("dragleave",p,!1),e.addEventListener("drop",c,!1),function(){d(),e.removeEventListener("dragenter",l,!1),e.removeEventListener("dragover",u,!1),e.removeEventListener("dragleave",p,!1),e.removeEventListener("drop",c,!1)};function l(e){return t.onDragEnter&&t.onDragEnter(e),e.stopPropagation(),e.preventDefault(),!1}function u(n){if(n.stopPropagation(),n.preventDefault(),n.dataTransfer.items){var o=s(n.dataTransfer.items),r=o.filter(function(e){return"file"===e.kind}),i=o.filter(function(e){return"string"===e.kind});if(0===r.length&&!t.onDropText)return;if(0===i.length&&!t.onDrop)return;if(0===r.length&&0===i.length)return}return e.classList.add("drag"),clearTimeout(a),t.onDragOver&&t.onDragOver(n),n.dataTransfer.dropEffect="copy",!1}function p(e){return e.stopPropagation(),e.preventDefault(),t.onDragLeave&&t.onDragLeave(e),clearTimeout(a),a=setTimeout(d,50),!1}function c(e){e.stopPropagation(),e.preventDefault(),t.onDragLeave&&t.onDragLeave(e),clearTimeout(a),d();var n={x:e.clientX,y:e.clientY},l=e.dataTransfer.getData("text");if(l&&t.onDropText&&t.onDropText(l,n),e.dataTransfer.items){var u=s(e.dataTransfer.items).filter(function(e){return"file"===e.kind});if(0===u.length)return;r(u.map(function(e){return function(t){!function(e,t){var n=[];if(e.isFile)e.file(function(n){n.fullPath=e.fullPath,t(null,n)},function(e){t(e)});else if(e.isDirectory){var o=e.createReader();!function e(){o.readEntries(function(o){o.length>0?(n=n.concat(s(o)),e()):r(n.map(function(e){return function(t){i(e,t)}}),t)})}()}}(e.webkitGetAsEntry(),t)}}),function(e,r){if(e)throw e;t.onDrop&&t.onDrop(o(r),n)})}else{var p=s(e.dataTransfer.files);if(0===p.length)return;p.forEach(function(e){e.fullPath="/"+e.name}),t.onDrop&&t.onDrop(p,n)}return!1}function d(){e.classList.remove("drag")}};var o=n(2487),r=n(2488);function i(e,t){var n=[];if(e.isFile){e.file(function(n){n.fullPath=e.fullPath;t(null,n)},function(e){t(e)})}else if(e.isDirectory){var o=e.createReader();a()}function a(){o.readEntries(function(e){if(e.length>0){n=n.concat(s(e));a()}else{l()}})}function l(){r(n.map(function(e){return function(t){i(e,t)}}),t)}}function s(e){return Array.prototype.slice.call(e||[],0)}},2487:function(e,t){e.exports=function(e,t){return(t="number"==typeof t?t:1/0)?function e(n,o){return n.reduce(function(n,r){return Array.isArray(r)&&o<t?n.concat(e(r,o+1)):n.concat(r)},[])}(e,1):Array.isArray(e)?e.map(function(e){return e}):e}},2488:function(e,t,n){(function(t){e.exports=function(e,n){var o,r,i,s=!0;Array.isArray(e)?(o=[],r=e.length):(i=Object.keys(e),o={},r=i.length);function a(e){function r(){n&&n(e,o),n=null}s?t.nextTick(r):r()}function l(e,t,n){o[e]=n,(0===--r||t)&&a(t)}r?i?i.forEach(function(t){e[t](function(e,n){l(t,e,n)})}):e.forEach(function(e,t){e(function(e,n){l(t,e,n)})}):a(null);s=!1}}).call(this,n(106))},2489:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(2490),i=n(1838),s=n(2496),a=n(2497),l=n(2498),u=n(2499),p=n(16),c=n(2500),d=n(1131).h,h=n(2501);e.exports=function(e){var t=0===e.totalFileCount,n=p({"uppy-Root":e.isTargetDOMEl},"uppy-Dashboard",{"Uppy--isTouchDevice":c()},{"uppy-Dashboard--animateOpenClose":e.animateOpenClose},{"uppy-Dashboard--isClosing":e.isClosing},{"uppy-Dashboard--modal":!e.inline},{"uppy-size--md":e.containerWidth>576},{"uppy-size--lg":e.containerWidth>700},{"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel});return d("div",{class:n,"aria-hidden":e.inline?"false":e.modal.isHidden,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onpaste:e.handlePaste},d("div",{class:"uppy-Dashboard-overlay",tabindex:-1,onclick:e.handleClickOutside}),d("div",{class:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},d("button",{class:"uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onclick:e.closeModal},d("span",{"aria-hidden":"true"},"\xd7")),d("div",{class:"uppy-Dashboard-innerWrap"},!t&&e.showSelectedFiles&&d(l,e),e.showSelectedFiles?d(t?i:r,e):d(i,e),d(h,{transitionName:"uppy-transition-slideDownUp",transitionEnterTimeout:250,transitionLeaveTimeout:250},e.showAddFilesPanel?d(s,o({key:"AddFilesPanel"},e)):null),d(h,{transitionName:"uppy-transition-slideDownUp",transitionEnterTimeout:250,transitionLeaveTimeout:250},e.fileCardFor?d(u,o({key:"FileCard"},e)):null),d(h,{transitionName:"uppy-transition-slideDownUp",transitionEnterTimeout:250,transitionLeaveTimeout:250},e.activePanel?d(a,o({key:"PanelContent"},e)):null),d("div",{class:"uppy-Dashboard-progressindicators"},e.progressindicators.map(function(t){return e.getPlugin(t.id).render(e.state)})))))}},2490:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(2491),i=n(16),s=n(1131).h;e.exports=function(e){var t=0===e.totalFileCount,n=i("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":t});return s("ul",{class:n},Object.keys(e.files).map(function(t){return s(r,o({},e,{acquirers:e.acquirers,file:e.files[t]}))}))}},2491:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(1639),i=n(2492),s=n(2493),a=n(1455),l=n(2494),u=n(1640),p=n(1837),c=n(1456),d=c.iconCopy,h=c.iconRetry,f=n(16),g=n(1131).h;function y(e){if(!e.hideRetryButton||!e.error)return e.isUploaded||e.bundled||e.hidePauseResumeCancelButtons&&!e.error?g("div",{class:"uppy-DashboardItem-progressIndicator"},g(l,{progress:e.file.progress.percentage,fileID:e.file.id,hidePauseResumeCancelButtons:e.hidePauseResumeCancelButtons,bundled:e.bundled})):g("button",{class:"uppy-DashboardItem-progressIndicator",type:"button","aria-label":e.progressIndicatorTitle,title:e.progressIndicatorTitle,onclick:e.onPauseResumeCancelRetry},e.error?e.hideRetryButton?null:h():g(l,{progress:e.file.progress.percentage,fileID:e.file.id,hidePauseResumeCancelButtons:e.hidePauseResumeCancelButtons}))}e.exports=function(e){var t=e.file,n=e.acquirers,l=t.progress.preprocess||t.progress.postprocess,c=t.progress.uploadComplete&&!l&&!t.error,h=t.progress.uploadStarted||l,m=t.progress.uploadStarted&&!t.progress.uploadComplete||l,v=t.isPaused||!1,b=t.error||!1,w=r(t.meta.name).name,P=e.isWide?i(w,30):w;var S=f("uppy-DashboardItem",{"is-inprogress":m},{"is-processing":l},{"is-complete":c},{"is-paused":v},{"is-error":b},{"is-resumable":e.resumableUploads},{"is-bundled":e.bundledUpload});return g("li",{class:S,id:"uppy_"+t.id,title:t.meta.name},g("div",{class:"uppy-DashboardItem-preview"},g("div",{class:"uppy-DashboardItem-previewInnerWrap",style:{backgroundColor:u(t.type).color}},e.showLinkToFileUploadResult&&t.uploadURL?g("a",{class:"uppy-DashboardItem-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank"}):null,g(p,{file:t})),g("div",{class:"uppy-DashboardItem-progress"},g(y,o({progressIndicatorTitle:function(e){return c?e.i18n("uploadComplete"):b?e.i18n("retryUpload"):e.resumableUploads?t.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.i18n("cancelUpload")}(e),onPauseResumeCancelRetry:function(n){c||(!b||e.hideRetryButton?e.hidePauseResumeCancelButtons||(e.resumableUploads?e.pauseUpload(t.id):e.cancelUpload(t.id)):e.retryUpload(t.id))},file:t,error:b},e)))),g("div",{class:"uppy-DashboardItem-info"},g("div",{class:"uppy-DashboardItem-name",title:w},e.showLinkToFileUploadResult&&t.uploadURL?g("a",{href:t.uploadURL,rel:"noreferrer noopener",target:"_blank"},t.extension?P+"."+t.extension:P):t.extension?P+"."+t.extension:P),g("div",{class:"uppy-DashboardItem-status"},t.data.size?g("div",{class:"uppy-DashboardItem-statusSize"},a(t.data.size)):null,t.source&&t.source!==e.id&&g("div",{class:"uppy-DashboardItem-sourceIcon"},n.map(function(n){if(n.id===t.source)return g("span",{title:e.i18n("fileSource",{name:n.name})},n.icon())})),!h&&e.metaFields&&e.metaFields.length?g("button",{class:"uppy-DashboardItem-edit",type:"button","aria-label":e.i18n("editFile"),title:e.i18n("editFile"),onclick:function(n){return e.toggleFileCard(t.id)}},e.i18n("edit")):null,e.showLinkToFileUploadResult&&t.uploadURL?g("button",{class:"uppy-DashboardItem-copyLink",type:"button","aria-label":e.i18n("copyLink"),title:e.i18n("copyLink"),onclick:function(){s(t.uploadURL,e.i18n("copyLinkToClipboardFallback")).then(function(){e.log("Link copied to clipboard."),e.info(e.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log)}},d()):"")),g("div",{class:"uppy-DashboardItem-action"},!c&&g("button",{class:"uppy-DashboardItem-remove",type:"button","aria-label":e.i18n("removeFile"),title:e.i18n("removeFile"),onclick:function(){return e.removeFile(t.id)}},g("svg",{"aria-hidden":"true",class:"UppyIcon",width:"60",height:"60",viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg"},g("path",{stroke:"#FFF","stroke-width":"1","fill-rule":"nonzero","vector-effect":"non-scaling-stroke",d:"M30 1C14 1 1 14 1 30s13 29 29 29 29-13 29-29S46 1 30 1z"}),g("path",{fill:"#FFF","vector-effect":"non-scaling-stroke",d:"M42 39.667L39.667 42 30 32.333 20.333 42 18 39.667 27.667 30 18 20.333 20.333 18 30 27.667 39.667 18 42 20.333 32.333 30z"})))))}},2492:function(e,t){e.exports=function(e,t){return e.length>t?e.substr(0,t/2)+"..."+e.substr(e.length-t/4,e.length):e}},2493:function(e,t){e.exports=function(e,t){return t=t||"Copy the URL below",new Promise(function(n){var o=document.createElement("textarea");o.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),o.value=e,document.body.appendChild(o),o.select();var r=function(){document.body.removeChild(o),window.prompt(t,e),n()};try{return document.execCommand("copy")?(document.body.removeChild(o),n()):r()}catch(i){return document.body.removeChild(o),r()}})}},2494:function(e,t,n){var o=n(1131).h,r=2*Math.PI*15;e.exports=function(e){return o("svg",{width:"70",height:"70",viewBox:"0 0 36 36",class:"UppyIcon UppyIcon-progressCircle"},o("g",{class:"progress-group"},o("circle",{class:"bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),o("circle",{class:"progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)","stroke-width":"2",fill:"none","stroke-dasharray":r,"stroke-dashoffset":r-r/100*e.progress})),e.hidePauseResumeCancelButtons||e.bundled?null:o("g",null,o("polygon",{class:"play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}),o("g",{class:"pause",transform:"translate(14.5, 13)"},o("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),o("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})),o("polygon",{class:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})),o("polygon",{class:"check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))}},2495:function(e,t,n){var o=n(1131),r=o.h,i=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(e){this.input.click()},t.prototype.render=function(){var e=this,t=r("button",{type:"button",class:"uppy-Dashboard-browse",onclick:this.handleClick},this.props.i18n("browse"));return r("div",{class:"uppy-Dashboard-dropFilesTitle"},0===this.props.acquirers.length?this.props.i18nArray("dropPaste",{browse:t}):this.props.i18nArray("dropPasteImport",{browse:t}),r("input",{class:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabindex:-1,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,onchange:this.props.handleInputChange,accept:this.props.allowedFileTypes,value:"",ref:function(t){e.input=t}}))},t}(o.Component);e.exports=i},2496:function(e,t,n){var o=n(1131).h,r=n(1838);e.exports=function(e){return o("div",{class:"uppy-Dashboard-AddFilesPanel","aria-hidden":e.showAddFilesPanel},o("div",{class:"uppy-DashboardContent-bar"},o("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},e.i18n("addingMoreFiles")),o("button",{class:"uppy-DashboardContent-back",type:"button",onclick:function(t){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),o(r,e))}},2497:function(e,t,n){var o=n(1131).h,r=n(1839);e.exports=function(e){return o("div",{class:"uppy-DashboardContent-panel",role:"tabpanel",id:e.activePanel&&"uppy-DashboardContent-panel--"+e.activePanel.id,onDragOver:r,onDragLeave:r,onDrop:r,onPaste:r},o("div",{class:"uppy-DashboardContent-bar"},o("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},e.i18n("importFrom",{name:e.activePanel.name})),o("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.hideAllPanels},e.i18n("done"))),o("div",{class:"uppy-DashboardContent-panelBody"},e.getPlugin(e.activePanel.id).render(e.state)))}},2498:function(e,t,n){var o=n(1131).h;function r(e){if(e.newFiles.length)return e.i18n("xFilesSelected",{smart_count:e.newFiles.length})}e.exports=function(e){var t=!e.maxNumberOfFiles||e.totalFileCount<e.maxNumberOfFiles;return o("div",{class:"uppy-DashboardContent-bar"},o("button",{class:"uppy-DashboardContent-back",type:"button",onclick:e.cancelAll},e.i18n("cancel")),o("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},o(r,e)),t&&o("button",{class:"uppy-DashboardContent-addMore",type:"button","aria-label":e.i18n("addMoreFiles"),title:e.i18n("addMoreFiles"),onclick:function(){return e.toggleAddFilesPanel(!0)}},o("svg",{class:"UppyIcon",width:"15",height:"15",viewBox:"0 0 13 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M7,6 L13,6 L13,7 L7,7 L7,13 L6,13 L6,7 L0,7 L0,6 L6,6 L6,0 L7,0 L7,6 Z"}))))}},2499:function(e,t,n){var o=n(1640),r=n(1837),i=n(1839),s=n(1131),a=s.h,l=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.meta={},o.tempStoreMetaOrSubmit=o.tempStoreMetaOrSubmit.bind(o),o.renderMetaFields=o.renderMetaFields.bind(o),o.handleSave=o.handleSave.bind(o),o.handleCancel=o.handleCancel.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){e.firstInput&&e.firstInput.focus({preventScroll:!0})},150)},t.prototype.tempStoreMetaOrSubmit=function(e){var t=this.props.files[this.props.fileCardFor];if(13===e.keyCode)return e.stopPropagation(),e.preventDefault(),void this.props.saveFileCard(this.meta,t.id);var n=e.target.value,o=e.target.dataset.name;this.meta[o]=n},t.prototype.renderMetaFields=function(e){var t=this;return(this.props.metaFields||[]).map(function(n,o){return a("fieldset",{class:"uppy-DashboardFileCard-fieldset"},a("label",{class:"uppy-DashboardFileCard-label"},n.name),a("input",{class:"uppy-c-textInput uppy-DashboardFileCard-input",type:"text","data-name":n.id,value:e.meta[n.id],placeholder:n.placeholder,onkeyup:t.tempStoreMetaOrSubmit,onkeydown:t.tempStoreMetaOrSubmit,onkeypress:t.tempStoreMetaOrSubmit,ref:function(e){0===o&&(t.firstInput=e)}}))})},t.prototype.handleSave=function(e){var t=this.props.fileCardFor;this.props.saveFileCard(this.meta,t)},t.prototype.handleCancel=function(e){this.meta={},this.props.toggleFileCard()},t.prototype.render=function(){var e=this.props.files[this.props.fileCardFor];return a("div",{class:"uppy-DashboardFileCard",onDragOver:i,onDragLeave:i,onDrop:i,onPaste:i},a("div",{class:"uppy-DashboardContent-bar"},a("div",{class:"uppy-DashboardContent-title",role:"heading","aria-level":"h1"},this.props.i18nArray("editing",{file:a("span",{class:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),a("button",{class:"uppy-DashboardContent-back",type:"button",title:this.props.i18n("finishEditingFile"),onclick:this.handleSave},this.props.i18n("done"))),a("div",{class:"uppy-DashboardFileCard-inner"},a("div",{class:"uppy-DashboardFileCard-preview",style:{backgroundColor:o(e.type).color}},a(r,{file:e})),a("div",{class:"uppy-DashboardFileCard-info"},this.renderMetaFields(e)),a("div",{class:"uppy-Dashboard-actions"},a("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-actionsBtn",type:"button",onclick:this.handleSave},this.props.i18n("saveChanges")),a("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-actionsBtn",type:"button",onclick:this.handleCancel},this.props.i18n("cancel")))))},t}(s.Component);e.exports=l},2500:function(e,t){e.exports=function(){return"ontouchstart"in window||navigator.maxTouchPoints}},2501:function(e,t,n){e.exports=function(e){"use strict";function t(e){return e.attributes&&e.attributes.key}function n(e){return e.base}function o(e){return e&&e.filter(function(e){return null!==e})}function r(e,t){for(var n=e.length;n--;)if(t(e[n]))return!0;return!1}function i(e,n){return r(e,function(e){return t(e)===n})}function s(e,n){return i(e,t(n))}function a(e,n,o){return r(e,function(e){return t(e)===n&&e.props[o]})}function l(e,n,o){return a(e,t(n),o)}var u=" ",p=/[\n\t\r]+/g,c=function(e){return(u+e+u).replace(p,u)};function d(e,t){var n;e.classList?(n=e.classList).add.apply(n,t.split(" ")):e.className+=" "+t}function h(e,t){if(t=t.trim(),e.classList){var n;(n=e.classList).remove.apply(n,t.split(" "))}else{var o=e.className.trim(),r=c(o);for(t=u+t+u;r.indexOf(t)>=0;)r=r.replace(t,u);e.className=r.trim()}}var f={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},g=[];"undefined"!==typeof window&&function(){var e=document.createElement("div").style;for(var t in"AnimationEvent"in window||delete f.animationend.animation,"TransitionEvent"in window||delete f.transitionend.transition,f){var n=f[t];for(var o in n)if(o in e){g.push(n[o]);break}}}();var y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},m=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},v=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},b=function(e){function t(){var o,r;y(this,t);for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=v(this,e.call.apply(e,[this].concat(s))),o=r,r.flushClassNameQueue=function(){n(r)&&d(n(r),r.classNameQueue.join(" ")),r.classNameQueue.length=0,r.timeout=null},v(r,o)}return m(t,e),t.prototype.transition=function(e,t,o){var r=this,i=n(this),s=this.props.name[e]||this.props.name+"-"+e,a=this.props.name[e+"Active"]||s+"-active",l=null;this.endListener&&this.endListener(),this.endListener=function(e){e&&e.target!==i||(clearTimeout(l),h(i,s),h(i,a),function(e,t){g.length&&g.forEach(function(n){e.removeEventListener(n,t,!1)})}(i,r.endListener),r.endListener=null,t&&t())},o?(l=setTimeout(this.endListener,o),this.transitionTimeouts.push(l)):function(e,t){if(!g.length)return window.setTimeout(t,0);g.forEach(function(n){e.addEventListener(n,t,!1)})}(i,this.endListener),d(i,s),this.queueClass(a)},t.prototype.queueClass=function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,17))},t.prototype.stop=function(){this.timeout&&(clearTimeout(this.timeout),this.classNameQueue.length=0,this.timeout=null),this.endListener&&this.endListener()},t.prototype.componentWillMount=function(){this.classNameQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)})},t.prototype.componentWillEnter=function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},t.prototype.componentWillLeave=function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},t.prototype.render=function(){return(e=this.props.children)&&e[0];var e},t}(e.Component),w=function(n){function r(o){y(this,r);var i=v(this,n.call(this));return i.renderChild=function(n){var o=i.props,r=o.transitionName,s=o.transitionEnter,a=o.transitionLeave,l=o.transitionEnterTimeout,u=o.transitionLeaveTimeout,p=t(n);return e.h(b,{key:p,ref:function(e){(i.refs[p]=e)||(n=null)},name:r,enter:s,leave:a,enterTimeout:l,leaveTimeout:u},n)},i.refs={},i.state={children:(o.children||[]).slice()},i}return m(r,n),r.prototype.shouldComponentUpdate=function(e,t){var n=t.children;return n!==this.state.children},r.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},r.prototype.componentWillReceiveProps=function(n){var r=this,a=n.children,u=n.exclusive,p=n.showProp,c=o(a||[]).slice(),d=o(u?this.props.children:this.state.children),h=function(e,n){var o=[],r={},s=[];return e.forEach(function(e){var o=t(e);i(n,o)?s.length&&(r[o]=s,s=[]):s.push(e)}),n.forEach(function(e){var n=t(e);r.hasOwnProperty(n)&&(o=o.concat(r[n])),o.push(e)}),o.concat(s)}(d,c);p&&(h=h.map(function(t){var n;return!t.props[p]&&l(d,t,p)&&(t=e.cloneElement(t,((n={})[p]=!0,n))),t})),u&&h.forEach(function(e){return r.stop(t(e))}),this.setState({children:h}),this.forceUpdate(),c.forEach(function(e){var t=e.key,n=d&&s(d,e);if(p){if(n){var o=l(d,e,p),i=e.props[p];o||!i||r.currentlyTransitioningKeys[t]||r.keysToEnter.push(t)}}else n||r.currentlyTransitioningKeys[t]||r.keysToEnter.push(t)}),d.forEach(function(e){var t=e.key,n=c&&s(c,e);if(p){if(n){var o=l(c,e,p),i=e.props[p];o||!i||r.currentlyTransitioningKeys[t]||r.keysToLeave.push(t)}}else n||r.currentlyTransitioningKeys[t]||r.keysToLeave.push(t)})},r.prototype.performEnter=function(e){var t=this;this.currentlyTransitioningKeys[e]=!0;var n=this.refs[e];n.componentWillEnter?n.componentWillEnter(function(){return t._handleDoneEntering(e)}):this._handleDoneEntering(e)},r.prototype._handleDoneEntering=function(e){delete this.currentlyTransitioningKeys[e];var t=o(this.props.children),n=this.props.showProp;!t||!n&&!i(t,e)||n&&!a(t,e,n)?this.performLeave(e):this.setState({children:t})},r.prototype.stop=function(e){delete this.currentlyTransitioningKeys[e];var t=this.refs[e];t&&t.stop()},r.prototype.performLeave=function(e){var t=this;this.currentlyTransitioningKeys[e]=!0;var n=this.refs[e];n&&n.componentWillLeave?n.componentWillLeave(function(){return t._handleDoneLeaving(e)}):this._handleDoneLeaving(e)},r.prototype._handleDoneLeaving=function(e){delete this.currentlyTransitioningKeys[e];var t=this.props.showProp,n=o(this.props.children);t&&n&&a(n,e,t)?this.performEnter(e):!t&&n&&i(n,e)?this.performEnter(e):this.setState({children:n})},r.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter,n=this.keysToLeave;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t)}),this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t)})},r.prototype.render=function(t,n){var r=t.component,i=(t.transitionName,t.transitionEnter,t.transitionLeave,t.transitionEnterTimeout,t.transitionLeaveTimeout,t.children,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["component","transitionName","transitionEnter","transitionLeave","transitionEnterTimeout","transitionLeaveTimeout","children"])),s=n.children;return e.h(r,i,o(s).map(this.renderChild))},r}(e.Component);return w.defaultProps={component:"span",transitionEnter:!0,transitionLeave:!0},w}(n(1131))},2502:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var r=n(1216).Plugin,i=n(1454),s=n(2503),a=n(1840),l=n(2504),u=n(2505),p=n(2506),c=n(1455);e.exports=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));s.id=s.opts.id||"StatusBar",s.title="StatusBar",s.type="progressindicator";var a={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",pleasePressRetry:"Please press Retry to upload again",paused:"Paused",error:"Error",retry:"Retry",cancel:"Cancel",pressToRetry:"Press to retry",retryUpload:"Retry upload",resumeUpload:"Resume upload",cancelUpload:"Cancel upload",pauseUpload:"Pause upload",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"}}},l={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeCancelButtons:!1,showProgressDetails:!1,locale:a,hideAfterFinish:!0};return s.opts=o({},l,r),s.locale=o({},a,s.opts.locale),s.locale.strings=o({},a.strings,s.opts.locale.strings),s.translator=new i({locale:s.locale}),s.i18n=s.translator.translate.bind(s.translator),s.startUpload=s.startUpload.bind(s),s.render=s.render.bind(s),s.install=s.install.bind(s),s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getTotalSpeed=function(e){var t=0;return e.forEach(function(e){t+=l(e.progress)}),t},t.prototype.getTotalETA=function(e){var t=this.getTotalSpeed(e);if(0===t)return 0;var n=e.reduce(function(e,t){return e+u(t.progress)},0);return Math.round(n/t*10)/10},t.prototype.startUpload=function(){var e=this;return this.uppy.upload().catch(function(t){e.uppy.log(t.stack||t.message||t)})},t.prototype.getUploadingState=function(e,t,n){if(e)return a.STATE_ERROR;if(t)return a.STATE_COMPLETE;for(var o=a.STATE_WAITING,r=Object.keys(n),i=0;i<r.length;i++){var s=n[r[i]].progress;if(s.uploadStarted&&!s.uploadComplete)return a.STATE_UPLOADING;s.preprocess&&o!==a.STATE_UPLOADING&&(o=a.STATE_PREPROCESSING),s.postprocess&&o!==a.STATE_UPLOADING&&o!==a.STATE_PREPROCESSING&&(o=a.STATE_POSTPROCESSING)}return o},t.prototype.render=function(e){var t=e.files,n=Object.keys(t).filter(function(e){return t[e].progress.uploadStarted}),o=Object.keys(t).filter(function(e){return!t[e].progress.uploadStarted&&!t[e].progress.preprocess&&!t[e].progress.postprocess}),r=Object.keys(t).filter(function(e){return t[e].progress.uploadComplete}),i=Object.keys(t).filter(function(e){return t[e].error}),a=Object.keys(t).filter(function(e){return!t[e].progress.uploadComplete&&t[e].progress.uploadStarted&&!t[e].isPaused}),l=Object.keys(t).filter(function(e){return t[e].progress.uploadStarted||t[e].progress.preprocess||t[e].progress.postprocess}),u=Object.keys(t).filter(function(e){return t[e].progress.preprocess||t[e].progress.postprocess}),d=a.map(function(e){return t[e]}),h=c(this.getTotalSpeed(d)),f=p(this.getTotalETA(d)),g=0,y=0;d.forEach(function(e){g+=e.progress.bytesTotal||0,y+=e.progress.bytesUploaded||0}),g=c(g),y=c(y);var m=n.length>0,v=100===e.totalProgress&&r.length===Object.keys(t).length&&0===u.length,b=m&&i.length===n.length,w=0===a.length&&!v&&!b&&n.length>0,P=e.capabilities.resumableUploads||!1;return s({error:e.error,uploadState:this.getUploadingState(b,v,e.files||{}),totalProgress:e.totalProgress,totalSize:g,totalUploadedSize:y,uploadStarted:n.length,isAllComplete:v,isAllPaused:w,isAllErrored:b,isUploadStarted:m,complete:r.length,newFiles:o.length,numUploads:l.length,totalSpeed:h,totalETA:f,files:e.files,i18n:this.i18n,pauseAll:this.uppy.pauseAll,resumeAll:this.uppy.resumeAll,retryAll:this.uppy.retryAll,cancelAll:this.uppy.cancelAll,startUpload:this.startUpload,resumableUploads:P,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeCancelButtons:this.opts.hidePauseResumeCancelButtons,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},t.prototype.install=function(){var e=this.opts.target;e&&this.mount(e,this)},t.prototype.uninstall=function(){this.unmount()},t}(r)},2503:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(1241),i=n(16),s=n(1840),a=n(1131).h;e.exports=function(e){var t=(e=e||{}).uploadState,n=e.totalProgress,r=void 0,c=void 0;if(t===s.STATE_PREPROCESSING||t===s.STATE_POSTPROCESSING){var h=function(e){var t=[];Object.keys(e).forEach(function(n){var o=e[n].progress;o.preprocess&&t.push(o.preprocess),o.postprocess&&t.push(o.postprocess)});var n=t[0];return{mode:n.mode,message:n.message,value:t.filter(function(e){return"determinate"===e.mode}).reduce(function(e,t,n,o){return e+t.value/o.length},0)}}(e.files);"determinate"===(r=h.mode)&&(n=100*h.value),c=d(h)}else t===s.STATE_COMPLETE?c=g(e):t===s.STATE_UPLOADING?c=f(e):t===s.STATE_ERROR&&(n=void 0,c=y(e));var m="number"===typeof n?n:100,v=t===s.STATE_WAITING&&e.hideUploadButton||t===s.STATE_WAITING&&!e.newFiles>0||t===s.STATE_COMPLETE&&e.hideAfterFinish,b="uppy-StatusBar-progress\n                           "+(r?"is-"+r:""),w=i({"uppy-Root":e.isTargetDOMEl},"uppy-StatusBar","is-"+t,{"uppy-StatusBar--detailedProgress":e.showProgressDetails});return a("div",{class:w,"aria-hidden":v},a("div",{class:b,style:{width:m+"%"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":n}),c,a("div",{class:"uppy-StatusBar-actions"},e.newFiles&&!e.hideUploadButton?a(l,o({},e,{uploadState:t})):null,e.error&&!e.hideRetryButton?a(u,e):null,e.hidePauseResumeCancelButtons||t===s.STATE_WAITING||t===s.STATE_COMPLETE?null:a(p,e)))};var l=function(e){var t=i("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":e.uploadState===s.STATE_WAITING});return a("button",{type:"button",class:t,"aria-label":e.i18n("uploadXFiles",{smart_count:e.newFiles}),onclick:e.startUpload},e.newFiles&&e.uploadStarted?e.i18n("uploadXNewFiles",{smart_count:e.newFiles}):e.i18n("uploadXFiles",{smart_count:e.newFiles}))},u=function(e){return a("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e.i18n("retryUpload"),onclick:e.retryAll},e.i18n("retry"))},p=function(e){return a("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--cancel","aria-label":e.i18n("cancel"),onclick:e.cancelAll},e.i18n("cancel"))},c=function(e){var t=e.resumableUploads,n=e.isAllPaused,o=e.i18n,r=o(t?n?"resumeUpload":"pauseUpload":"cancelUpload");return a("button",{title:r,class:"uppy-u-reset uppy-StatusBar-statusIndicator",type:"button",onclick:function(){return function(e){if(!e.isAllComplete)return e.resumableUploads?e.isAllPaused?e.resumeAll():e.pauseAll():e.cancelAll()}(e)}},t?n?a("svg",{"aria-hidden":"true",class:"UppyIcon",width:"15",height:"17",viewBox:"0 0 11 13"},a("path",{d:"M1.26 12.534a.67.67 0 0 1-.674.012.67.67 0 0 1-.336-.583v-11C.25.724.38.5.586.382a.658.658 0 0 1 .673.012l9.165 5.5a.66.66 0 0 1 .325.57.66.66 0 0 1-.325.573l-9.166 5.5z"})):a("svg",{"aria-hidden":"true",class:"UppyIcon",width:"16",height:"17",viewBox:"0 0 12 13"},a("path",{d:"M4.888.81v11.38c0 .446-.324.81-.722.81H2.722C2.324 13 2 12.636 2 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81zM9.888.81v11.38c0 .446-.324.81-.722.81H7.722C7.324 13 7 12.636 7 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81z"})):a("svg",{"aria-hidden":"true",class:"UppyIcon",width:"16px",height:"16px",viewBox:"0 0 19 19"},a("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"})))},d=function(e){var t=Math.round(100*e.value);return a("div",{class:"uppy-StatusBar-content"},"determinate"===e.mode?t+"% \xb7 ":"",e.message)},h=r(function(e){return a("div",{class:"uppy-StatusBar-statusSecondary"},e.numUploads>1&&e.i18n("filesUploadedOfTotal",{complete:e.complete,smart_count:e.numUploads})+" \xb7 ",e.i18n("dataUploadedOfTotal",{complete:e.totalUploadedSize,total:e.totalSize})+" \xb7 ",e.i18n("xTimeLeft",{time:e.totalETA}))},500,{leading:!0,trailing:!0}),f=function(e){if(!e.isUploadStarted||e.isAllComplete)return null;var t=e.isAllPaused?e.i18n("paused"):e.i18n("uploading");return a("div",{class:"uppy-StatusBar-content","aria-label":t,title:t},!e.hidePauseResumeCancelButtons&&a(c,e),a("div",{class:"uppy-StatusBar-status"},a("div",{class:"uppy-StatusBar-statusPrimary"},t,": ",e.totalProgress,"%"),!e.isAllPaused&&a(h,e)))},g=function(e){e.totalProgress;var t=e.i18n;return a("div",{class:"uppy-StatusBar-content",role:"status",title:t("complete")},a("svg",{"aria-hidden":"true",class:"uppy-StatusBar-statusIndicator UppyIcon",width:"18",height:"17",viewBox:"0 0 23 17"},a("path",{d:"M8.944 17L0 7.865l2.555-2.61 6.39 6.525L20.41 0 23 2.645z"})),t("complete"))},y=function(e){var t=e.error,n=(e.retryAll,e.hideRetryButton),o=e.i18n;return a("div",{class:"uppy-StatusBar-content",role:"alert"},a("span",{class:"uppy-StatusBar-contentPadding"},o("uploadFailed"),"."),!n&&a("span",{class:"uppy-StatusBar-contentPadding"},o("pleasePressRetry")),a("span",{class:"uppy-StatusBar-details","aria-label":t,"data-microtip-position":"top","data-microtip-size":"large",role:"tooltip"},"?"))}},2504:function(e,t){e.exports=function(e){if(!e.bytesUploaded)return 0;var t=new Date-e.uploadStarted;return e.bytesUploaded/(t/1e3)}},2505:function(e,t){e.exports=function(e){return e.bytesTotal-e.bytesUploaded}},2506:function(e,t,n){var o=n(2507);e.exports=function(e){var t=o(e),n=t.hours?t.hours+"h ":"",r=t.hours?("0"+t.minutes).substr(-2):t.minutes;return""+n+(r?r+"m ":"")+((r?("0"+t.seconds).substr(-2):t.seconds)+"s")}},2507:function(e,t){e.exports=function(e){return{hours:Math.floor(e/3600)%24,minutes:Math.floor(e/60)%60,seconds:Math.floor(e%60)}}},2508:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var r=n(1216).Plugin,i=n(1131).h;e.exports=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));i.type="progressindicator",i.id=i.opts.id||"Informer",i.title="Informer";return i.opts=o({},{typeColors:{info:{text:"#fff",bg:"#000"},warning:{text:"#fff",bg:"#F6A623"},error:{text:"#fff",bg:"#D32F2F"},success:{text:"#fff",bg:"#1BB240"}}},r),i.render=i.render.bind(i),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(e){var t=e.info,n=t.isHidden,o=t.message,r=t.details;return i("div",{class:"uppy uppy-Informer","aria-hidden":n},i("p",{role:"alert"},o," ",r&&i("span",{"aria-label":r,"data-microtip-position":"top","data-microtip-size":"large",role:"tooltip"},"?")))},t.prototype.install=function(){var e=this.opts.target;e&&this.mount(e,this)},t}(r)},2509:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var r=n(1216).Plugin,i=n(1841),s=n(1842);e.exports=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));i.type="thumbnail",i.id=i.opts.id||"ThumbnailGenerator",i.title="Thumbnail Generator",i.queue=[],i.queueProcessing=!1;return i.opts=o({},{thumbnailWidth:200},r),i.addToQueue=i.addToQueue.bind(i),i.onRestored=i.onRestored.bind(i),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.createThumbnail=function(e,t){var n=this,o=URL.createObjectURL(e.data);return new Promise(function(e,t){var n=new Image;n.src=o,n.onload=function(){URL.revokeObjectURL(o),e(n)},n.onerror=function(){URL.revokeObjectURL(o),t(new Error("Could not create thumbnail"))}}).then(function(e){var o=n.getProportionalHeight(e,t),r=n.resizeImage(e,t,o);return n.canvasToBlob(r,"image/png")}).then(function(e){return URL.createObjectURL(e)})},t.prototype.protect=function(e){var t=e.width/e.height,n=Math.floor(Math.sqrt(5e6*t)),o=Math.floor(5e6/Math.sqrt(5e6*t));if(n>4096&&(n=4096,o=Math.round(n/t)),o>4096&&(o=4096,n=Math.round(t*o)),e.width>n){var r=document.createElement("canvas");r.width=n,r.height=o,r.getContext("2d").drawImage(e,0,0,n,o),e=r}return e},t.prototype.resizeImage=function(e,t,n){e=this.protect(e);var o=Math.ceil(Math.log(e.width/t)*Math.LOG2E);o<1&&(o=1);for(var r=t*Math.pow(2,o-1),i=n*Math.pow(2,o-1);o--;){var s=document.createElement("canvas");s.width=r,s.height=i,s.getContext("2d").drawImage(e,0,0,r,i),e=s,r=Math.round(r/2),i=Math.round(i/2)}return e},t.prototype.canvasToBlob=function(e,t,n){return e.toBlob?new Promise(function(o){e.toBlob(o,t,n)}):Promise.resolve().then(function(){return i(e.toDataURL(t,n),{})})},t.prototype.getProportionalHeight=function(e,t){var n=e.width/e.height;return Math.round(t/n)},t.prototype.setPreviewURL=function(e,t){this.uppy.setFileState(e,{preview:t})},t.prototype.addToQueue=function(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()},t.prototype.processQueue=function(){var e=this;if(this.queueProcessing=!0,this.queue.length>0){var t=this.queue.shift();return this.requestThumbnail(t).catch(function(e){}).then(function(){return e.processQueue()})}this.queueProcessing=!1},t.prototype.requestThumbnail=function(e){var t=this;return s(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth).then(function(n){t.setPreviewURL(e.id,n)}).catch(function(e){console.warn(e.stack||e.message)}):Promise.resolve()},t.prototype.onRestored=function(){var e=this;Object.keys(this.uppy.getState().files).forEach(function(t){var n=e.uppy.getFile(t);n.isRestored&&(n.preview&&!/^blob:/.test(n.preview)||e.addToQueue(n))})},t.prototype.install=function(){this.uppy.on("file-added",this.addToQueue),this.uppy.on("restored",this.onRestored)},t.prototype.uninstall=function(){this.uppy.off("file-added",this.addToQueue),this.uppy.off("restored",this.onRestored)},t}(r)},2510:function(e,t,n){var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(1836);e.exports=function(e){if("string"===typeof e){var t=[].slice.call(document.querySelectorAll(e));return t.length>0?t:null}if("object"===("undefined"===typeof e?"undefined":o(e))&&r(e))return[e]}},2511:function(e,t){e.exports=function(e){return Array.prototype.slice.call(e||[],0)}},2512:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var r=n(1216).Plugin,i=n(1457).Provider,s=n(2515),a=n(1131).h;e.exports=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,o));return r.id=r.opts.id||"GoogleDrive",r.title=r.opts.title||"Google Drive",i.initPlugin(r,o),r.title=r.opts.title||"Google Drive",r.icon=function(){return a("svg",{"aria-hidden":"true",width:"18px",height:"16px",viewBox:"0 0 18 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a("g",{"fill-rule":"evenodd"},a("polygon",{fill:"#3089FC",points:"6.32475 10.2 18 10.2 14.999625 15.3 3.324375 15.3"}),a("polygon",{fill:"#00A85D",points:"3.000375 15.3 0 10.2 5.83875 0.275974026 8.838 5.37597403 5.999625 10.2"}),a("polygon",{fill:"#FFD024",points:"11.838375 9.92402597 5.999625 0 12.000375 0 17.839125 9.92402597"})))},r[r.id]=new i(n,{serverUrl:r.opts.serverUrl,serverHeaders:r.opts.serverHeaders,provider:"drive",authProvider:"google"}),r.onAuth=r.onAuth.bind(r),r.render=r.render.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.install=function(){this.view=new s(this),this.setPluginState({authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1,hasTeamDrives:!1,teamDrives:[],teamDriveId:""});var e=this.opts.target;e&&this.mount(e,this)},t.prototype.uninstall=function(){this.view.tearDown(),this.unmount()},t.prototype.onAuth=function(e){this.setPluginState({authenticated:e}),e&&(this.view.getFolder("root"),this.getTeamDrives())},t.prototype.getTeamDrives=function(){var e=this;this[this.id].get(this.GoogleDrive.id+"/list/?listTeamDrives=true").then(function(t){t.teamDrives&&t.teamDrives.length&&e.setPluginState({hasTeamDrives:!0,teamDrives:t.teamDrives})})},t.prototype.getUsername=function(e){var t=e.files,n=Array.isArray(t),o=0;for(t=n?t:t[Symbol.iterator]();;){var r;if(n){if(o>=t.length)break;r=t[o++]}else{if((o=t.next()).done)break;r=o.value}var i=r;if(i.ownedByMe){var s=i.permissions,a=Array.isArray(s),l=0;for(s=a?s:s[Symbol.iterator]();;){var u;if(a){if(l>=s.length)break;u=s[l++]}else{if((l=s.next()).done)break;u=l.value}var p=u;if("owner"===p.role)return p.emailAddress}}}},t.prototype.isFolder=function(e){return"application/vnd.google-apps.folder"===e.mimeType},t.prototype.getItemData=function(e){return o({},e,{size:parseFloat(e.size)})},t.prototype.getItemIcon=function(e){return e.iconLink},t.prototype.getItemSubList=function(e){var t=this;return e.files.filter(function(e){return t.isFolder(e)||!e.mimeType.startsWith("application/vnd.google")})},t.prototype.getItemName=function(e){return e.name?e.name:"/"},t.prototype.getMimeType=function(e){return e.mimeType},t.prototype.getItemId=function(e){return e.id},t.prototype.getItemRequestPath=function(e){return e.teamDriveId&&(e.id+="?teamDriveId="+e.teamDriveId,delete e.teamDriveId),this.getItemId(e)},t.prototype.getItemModifiedDate=function(e){return e.modifiedTime},t.prototype.getItemThumbnailUrl=function(e){return this.opts.serverUrl+"/"+this.GoogleDrive.id+"/thumbnail/"+this.getItemRequestPath(e)},t.prototype.render=function(e){var t=this.getPluginState();if(t.hasTeamDrives){var n=t.folders;n=n.filter(function(e){return"drive#teamDrive"!==e.kind}),1===t.directories.length&&t.teamDrives.forEach(function(e){n.splice(0,0,{id:"?teamDriveId="+e.id,name:e.name,kind:e.kind,iconLink:e.backgroundImageLink+"=w16-h16-n"})}),t.folders=n}return this.view.render(e)},t}(r)},2513:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=n(1843),s=function(e){return e.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")};e.exports=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,o));return r.provider=o.provider,r.id=r.provider,r.authProvider=o.authProvider||r.provider,r.name=r.opts.name||s(r.id),r.tokenKey="companion-"+r.id+"-auth-token",r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setAuthToken=function(e){localStorage.setItem(this.tokenKey,e)},t.prototype.checkAuth=function(){return this.get(this.id+"/authorized").then(function(e){return e.authenticated})},t.prototype.authUrl=function(){return this.hostname+"/"+this.id+"/connect"},t.prototype.fileUrl=function(e){return this.hostname+"/"+this.id+"/get/"+e},t.prototype.list=function(e){return this.get(this.id+"/list/"+(e||""))},t.prototype.logout=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;return this.get(this.id+"/logout?redirect="+t).then(function(t){return localStorage.removeItem(e.tokenKey),t})},t.initPlugin=function(e,t,n){if(e.type="acquirer",e.files=[],n&&(e.opts=o({},n,t)),t.serverPattern){var r=t.serverPattern;if("string"!==typeof r&&!Array.isArray(r)&&!(r instanceof RegExp))throw new TypeError(e.id+': the option "serverPattern" must be one of string, Array, RegExp');e.opts.serverPattern=r}else/^(?!https?:\/\/).*$/.test(t.serverUrl)?e.opts.serverPattern=location.protocol+"//"+t.serverUrl.replace(/^\/\//,""):e.opts.serverPattern=t.serverUrl},r(t,[{key:"defaultHeaders",get:function(){return o({},e.prototype.defaultHeaders,{"uppy-auth-token":localStorage.getItem(this.tokenKey)})}}]),t}(i)},2514:function(e,t,n){var o=n(1832);e.exports=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queued=[],this.isOpen=!1,this.socket=new WebSocket(t.target),this.emitter=o(),this.socket.onopen=function(e){for(n.isOpen=!0;n.queued.length>0&&n.isOpen;){var t=n.queued[0];n.send(t.action,t.payload),n.queued=n.queued.slice(1)}},this.socket.onclose=function(e){n.isOpen=!1},this._handleMessage=this._handleMessage.bind(this),this.socket.onmessage=this._handleMessage,this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this)}return e.prototype.close=function(){return this.socket.close()},e.prototype.send=function(e,t){this.isOpen?this.socket.send(JSON.stringify({action:e,payload:t})):this.queued.push({action:e,payload:t})},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.emit=function(e,t){this.emitter.emit(e,t)},e.prototype.once=function(e,t){this.emitter.once(e,t)},e.prototype._handleMessage=function(e){try{var t=JSON.parse(e.data);this.emit(t.action,t.payload)}catch(n){console.log(n)}},e}()},2515:function(e,t,n){var o=n(1641);e.exports=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toggleCheckbox=function(t,n){t.stopPropagation(),t.preventDefault(),"drive#teamDrive"!==n.kind&&e.prototype.toggleCheckbox.call(this,t,n)},t}(o)},2516:function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1844),a=n(1131),l=a.h,u=a.Component,p=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){e.connectButton&&e.connectButton.focus({preventScroll:!0})},150)},t.prototype.render=function(){var e=this;return l("div",{class:"uppy-Provider-auth"},l("div",{class:"uppy-Provider-authIcon"},this.props.pluginIcon()),l("h1",{class:"uppy-Provider-authTitle"},"Please authenticate with ",l("span",{class:"uppy-Provider-authTitleName"},this.props.pluginName),l("br",null)," to select files"),l("button",{type:"button",class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onclick:this.props.handleAuth,ref:function(t){e.connectButton=t}},"Connect to ",this.props.pluginName),this.props.demo&&l("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onclick:this.props.handleDemoAuth},"Proceed with Demo Account"))},t}(u),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.componentDidMount=function(){this.props.checkAuth()},t.prototype.render=function(){return this.props.checkAuthInProgress?l(s,null):l(p,this.props)},t}(u);e.exports=c},2517:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(16),i=n(2518),s=n(2519),a=n(2520),l=n(2522),u=n(1131).h;e.exports=function(e){var t=e.folders,n=e.files;""!==e.filterInput&&(t=e.filterItems(e.folders),n=e.filterItems(e.files));var p=e.currentSelection.length;return u("div",{class:r("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--"+e.viewType)},u("div",{class:"uppy-ProviderBrowser-header"},u("div",{class:r("uppy-ProviderBrowser-headerBar",!e.showBreadcrumbs&&"uppy-ProviderBrowser-headerBar--simple")},u("div",{class:"uppy-Provider-breadcrumbsWrap"},u("div",{class:"uppy-Provider-breadcrumbsIcon"},e.pluginIcon&&e.pluginIcon()),e.showBreadcrumbs&&i({getFolder:e.getFolder,directories:e.directories,title:e.title})),u("span",{class:"uppy-ProviderBrowser-user"},e.username),u("button",{type:"button",onclick:e.logout,class:"uppy-ProviderBrowser-userLogout"},e.i18n("logOut")))),e.showFilter&&u(s,e),u(a,{columns:[{name:"Name",key:"title"}],folders:t,files:n,activeRow:e.isActiveRow,sortByTitle:e.sortByTitle,sortByDate:e.sortByDate,isChecked:e.isChecked,handleFolderClick:e.getNextFolder,toggleCheckbox:e.toggleCheckbox,getItemName:e.getItemName,getItemIcon:e.getItemIcon,handleScroll:e.handleScroll,title:e.title,showTitles:e.showTitles,getItemId:e.getItemId,i18n:e.i18n}),p>0&&u(l,o({selected:p},e)))}},2518:function(e,t,n){var o=n(1131).h;e.exports=function(e){return o("div",{class:"uppy-Provider-breadcrumbs"},e.directories.map(function(t,n){return function(e){return o("button",{type:"button",onclick:e.getFolder},e.title)}({getFolder:function(){return e.getFolder(t.id)},title:0===n?e.title:t.title})}))}},2519:function(e,t,n){var o=n(1131),r=o.h,i=o.Component;e.exports=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n));return o.isEmpty=!0,o.handleKeyPress=o.handleKeyPress.bind(o),o.handleClear=o.handleClear.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleKeyPress=function(e){if(13===e.keyCode)return e.stopPropagation(),void e.preventDefault();this.isEmpty=!this.input.value.length>0,this.props.filterQuery(e)},t.prototype.handleClear=function(e){this.input.value="",this.props.filterQuery()},t.prototype.render=function(){var e=this;return r("div",{class:"uppy-u-reset uppy-ProviderBrowser-search"},r("svg",{class:"UppyIcon uppy-ProviderBrowser-searchIcon",viewBox:"0 0 100 100"},r("path",{d:"M87.533 80.03L62.942 55.439c3.324-4.587 5.312-10.207 5.312-16.295 0-.312-.043-.611-.092-.908.05-.301.093-.605.093-.922 0-15.36-12.497-27.857-27.857-27.857-.273 0-.536.043-.799.08-.265-.037-.526-.08-.799-.08-15.361 0-27.858 12.497-27.858 27.857 0 .312.042.611.092.909a5.466 5.466 0 0 0-.093.921c0 15.36 12.496 27.858 27.857 27.858.273 0 .535-.043.8-.081.263.038.524.081.798.081 5.208 0 10.071-1.464 14.245-3.963L79.582 87.98a5.603 5.603 0 0 0 3.976 1.647 5.621 5.621 0 0 0 3.975-9.597zM39.598 55.838c-.265-.038-.526-.081-.8-.081-9.16 0-16.612-7.452-16.612-16.612 0-.312-.042-.611-.092-.908.051-.301.093-.605.093-.922 0-9.16 7.453-16.612 16.613-16.612.272 0 .534-.042.799-.079.263.037.525.079.799.079 9.16 0 16.612 7.452 16.612 16.612 0 .312.043.611.092.909-.05.301-.094.604-.094.921 0 9.16-7.452 16.612-16.612 16.612-.274 0-.536.043-.798.081z"})),r("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:"Filter","aria-label":"Filter",onkeyup:this.handleKeyPress,onkeydown:this.handleKeyPress,onkeypress:this.handleKeyPress,value:this.props.filterInput,ref:function(t){e.input=t}}),!this.isEmpty&&r("button",{class:"uppy-u-reset uppy-ProviderBrowser-searchClose",type:"button",onclick:this.handleClear},r("svg",{class:"UppyIcon",viewBox:"0 0 19 19"},r("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))},t}(i)},2520:function(e,t,n){var o=n(2521),r=n(1131).h;e.exports=function(e){return e.folders.length||e.files.length?r("div",{class:"uppy-ProviderBrowser-body"},r("ul",{class:"uppy-ProviderBrowser-list",onscroll:e.handleScroll,role:"listbox","aria-label":"List of files from "+e.title},e.folders.map(function(t){var n=!1,r=e.isChecked(t);return r&&(n=r.loading),o({title:e.getItemName(t),id:e.getItemId(t),type:"folder",getItemIcon:function(){return e.getItemIcon(t)},isDisabled:n,isChecked:r,handleFolderClick:function(){return e.handleFolderClick(t)},handleClick:function(n){return e.toggleCheckbox(n,t)},columns:e.columns,showTitles:e.showTitles})}),e.files.map(function(t){return o({title:e.getItemName(t),id:e.getItemId(t),type:"file",getItemIcon:function(){return e.getItemIcon(t)},isDisabled:!1,isChecked:e.isChecked(t),handleClick:function(n){return e.toggleCheckbox(n,t)},columns:e.columns,showTitles:e.showTitles})}))):r("div",{class:"uppy-Provider-empty"},e.i18n("noFilesFound"))}},2521:function(e,t,n){var o=n(1131).h;e.exports=function(e){var t=function(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault())},n=e.getItemIcon();return o("li",{class:"uppy-ProviderBrowserItem"+(e.isChecked?" uppy-ProviderBrowserItem--selected":"")+("video"===n?" uppy-ProviderBrowserItem--noPreview":"")},o("div",{class:"uppy-ProviderBrowserItem-checkbox"},o("input",{type:"checkbox",role:"option",tabindex:0,"aria-label":"Select "+e.title,id:e.id,checked:e.isChecked,disabled:e.isDisabled,onchange:e.handleClick,onkeyup:t,onkeydown:t,onkeypress:t}),o("label",{for:e.id,onclick:e.handleClick})),o("button",{type:"button",class:"uppy-ProviderBrowserItem-inner","aria-label":"Select "+e.title,tabindex:0,onclick:function(t){if(t.preventDefault(),"folder"===e.type)return e.handleFolderClick(t);e.handleClick(t)}},function(e){if(null!==e)switch(e){case"file":return o("svg",{"aria-hidden":"true",class:"UppyIcon",width:11,height:14.5,viewBox:"0 0 44 58"},o("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}));case"folder":return o("svg",{"aria-hidden":"true",class:"UppyIcon",style:{width:16,marginRight:3},viewBox:"0 0 276.157 276.157"},o("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}));case"video":return o("svg",{"aria-hidden":"true",viewBox:"0 0 58 58"},o("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),o("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}));default:return o("img",{src:e})}}(e.getItemIcon()),e.showTitles&&e.title))}},2522:function(e,t,n){var o=n(1131).h;e.exports=function(e){return o("div",{class:"uppy-ProviderBrowser-footer"},o("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onclick:e.done},e.i18n("selectXFiles",{smart_count:e.selected})),o("button",{class:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onclick:e.cancel},e.i18n("cancel")))}},2523:function(e,t,n){var o=n(1216).Plugin,r=n(1457).Provider,i=n(1641),s=n(1131).h;e.exports=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,o));return i.id=i.opts.id||"Dropbox",r.initPlugin(i,o),i.title=i.opts.title||"Dropbox",i.icon=function(){return s("svg",{"aria-hidden":"true",fill:"#0060ff",width:"128",height:"118",viewBox:"0 0 128 118"},s("path",{d:"M38.145.777L1.108 24.96l25.608 20.507 37.344-23.06z"}),s("path",{d:"M1.108 65.975l37.037 24.183L64.06 68.525l-37.343-23.06zM64.06 68.525l25.917 21.633 37.036-24.183-25.61-20.51z"}),s("path",{d:"M127.014 24.96L89.977.776 64.06 22.407l37.345 23.06zM64.136 73.18l-25.99 21.567-11.122-7.262v8.142l37.112 22.256 37.114-22.256v-8.142l-11.12 7.262z"}))},i[i.id]=new r(n,{serverUrl:i.opts.serverUrl,serverHeaders:i.opts.serverHeaders,provider:"dropbox"}),i.onAuth=i.onAuth.bind(i),i.render=i.render.bind(i),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.install=function(){this.view=new i(this),this.setPluginState({authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1});var e=this.opts.target;e&&this.mount(e,this)},t.prototype.uninstall=function(){this.view.tearDown(),this.unmount()},t.prototype.onAuth=function(e){this.setPluginState({authenticated:e}),e&&this.view.getFolder()},t.prototype.getUsername=function(e){return e.user_email},t.prototype.isFolder=function(e){return"folder"===e[".tag"]},t.prototype.getItemData=function(e){return e},t.prototype.getItemIcon=function(e){return e[".tag"]},t.prototype.getItemSubList=function(e){return e.entries},t.prototype.getItemName=function(e){return e.name||""},t.prototype.getMimeType=function(e){return null},t.prototype.getItemId=function(e){return e.id},t.prototype.getItemRequestPath=function(e){return encodeURIComponent(e.path_lower)},t.prototype.getItemModifiedDate=function(e){return e.server_modified},t.prototype.getItemThumbnailUrl=function(e){return this.opts.serverUrl+"/"+this.Dropbox.id+"/thumbnail/"+this.getItemRequestPath(e)},t.prototype.render=function(e){return this.view.render(e)},t}(o)},2524:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var r=n(1216).Plugin,i=n(1457).Provider,s=n(1641),a=n(1131).h;e.exports=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,o));return r.id=r.opts.id||"Instagram",i.initPlugin(r,o),r.title=r.opts.title||"Instagram",r.icon=function(){return a("svg",{"aria-hidden":"true",fill:"#DE3573",width:"28",height:"28",viewBox:"0 0 512 512"},a("path",{d:"M256,49.471c67.266,0,75.233.257,101.8,1.469,24.562,1.121,37.9,5.224,46.778,8.674a78.052,78.052,0,0,1,28.966,18.845,78.052,78.052,0,0,1,18.845,28.966c3.45,8.877,7.554,22.216,8.674,46.778,1.212,26.565,1.469,34.532,1.469,101.8s-0.257,75.233-1.469,101.8c-1.121,24.562-5.225,37.9-8.674,46.778a83.427,83.427,0,0,1-47.811,47.811c-8.877,3.45-22.216,7.554-46.778,8.674-26.56,1.212-34.527,1.469-101.8,1.469s-75.237-.257-101.8-1.469c-24.562-1.121-37.9-5.225-46.778-8.674a78.051,78.051,0,0,1-28.966-18.845,78.053,78.053,0,0,1-18.845-28.966c-3.45-8.877-7.554-22.216-8.674-46.778-1.212-26.564-1.469-34.532-1.469-101.8s0.257-75.233,1.469-101.8c1.121-24.562,5.224-37.9,8.674-46.778A78.052,78.052,0,0,1,78.458,78.458a78.053,78.053,0,0,1,28.966-18.845c8.877-3.45,22.216-7.554,46.778-8.674,26.565-1.212,34.532-1.469,101.8-1.469m0-45.391c-68.418,0-77,.29-103.866,1.516-26.815,1.224-45.127,5.482-61.151,11.71a123.488,123.488,0,0,0-44.62,29.057A123.488,123.488,0,0,0,17.3,90.982C11.077,107.007,6.819,125.319,5.6,152.134,4.369,179,4.079,187.582,4.079,256S4.369,333,5.6,359.866c1.224,26.815,5.482,45.127,11.71,61.151a123.489,123.489,0,0,0,29.057,44.62,123.486,123.486,0,0,0,44.62,29.057c16.025,6.228,34.337,10.486,61.151,11.71,26.87,1.226,35.449,1.516,103.866,1.516s77-.29,103.866-1.516c26.815-1.224,45.127-5.482,61.151-11.71a128.817,128.817,0,0,0,73.677-73.677c6.228-16.025,10.486-34.337,11.71-61.151,1.226-26.87,1.516-35.449,1.516-103.866s-0.29-77-1.516-103.866c-1.224-26.815-5.482-45.127-11.71-61.151a123.486,123.486,0,0,0-29.057-44.62A123.487,123.487,0,0,0,421.018,17.3C404.993,11.077,386.681,6.819,359.866,5.6,333,4.369,324.418,4.079,256,4.079h0Z"}),a("path",{d:"M256,126.635A129.365,129.365,0,1,0,385.365,256,129.365,129.365,0,0,0,256,126.635Zm0,213.338A83.973,83.973,0,1,1,339.974,256,83.974,83.974,0,0,1,256,339.973Z"}),a("circle",{cx:"390.476",cy:"121.524",r:"30.23"}))},r[r.id]=new i(n,{serverUrl:r.opts.serverUrl,serverHeaders:r.opts.serverHeaders,provider:"instagram",authProvider:"instagram"}),r.onAuth=r.onAuth.bind(r),r.render=r.render.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.install=function(){this.view=new s(this,{viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1}),this.setPluginState({authenticated:!1,files:[],folders:[],directories:[],activeRow:-1,filterInput:"",isSearchVisible:!1});var e=this.opts.target;e&&this.mount(e,this)},t.prototype.uninstall=function(){this.view.tearDown(),this.unmount()},t.prototype.onAuth=function(e){this.setPluginState({authenticated:e}),e&&this.view.getFolder("recent")},t.prototype.getUsername=function(e){return e.data[0].user.username},t.prototype.isFolder=function(e){return!1},t.prototype.getItemData=function(e){return e},t.prototype.getItemIcon=function(e){return e.images?e.images.low_resolution.url:"video"},t.prototype.getItemSubList=function(e){var t=[];return e.data.forEach(function(e){e.carousel_media?e.carousel_media.forEach(function(n,r){var i=e.id,s=e.created_time,a=o({},n,{id:i,created_time:s});a.carousel_id=r,t.push(a)}):t.push(e)}),t},t.prototype.getItemName=function(e){if(e&&e.created_time){var t="video"===e.type?"mp4":"jpeg",n=new Date(1e3*e.created_time);return"Instagram "+(n=n.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}))+(e.carousel_id?" "+e.carousel_id:"")+"."+t}return""},t.prototype.getMimeType=function(e){return"video"===e.type?"video/mp4":"image/jpeg"},t.prototype.getItemId=function(e){return""+e.id+(e.carousel_id||"")},t.prototype.getItemRequestPath=function(e){var t=isNaN(e.carousel_id)?"":"?carousel_id="+e.carousel_id;return""+e.id+t},t.prototype.getItemModifiedDate=function(e){return e.created_time},t.prototype.getItemThumbnailUrl=function(e){return e.images.thumbnail.url},t.prototype.getNextPagePath=function(){var e=this.getPluginState().files;return"recent?max_id="+this.getItemId(e[e.length-1])},t.prototype.render=function(e){return this.view.render(e)},t}(r)},2525:function(e,t,n){var o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var i=n(1131).h,s=n(1216).Plugin,a=n(1454),l=n(2526),u=n(2527),p=n(2528),c=n(1845),d=n(2529),h=n(2532);e.exports=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,o));i.mediaDevices=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices;var e=navigator.mozGetUserMedia||navigator.webkitGetUserMedia;return e?{getUserMedia:function(t){return new Promise(function(n,o){e.call(navigator,t,n,o)})}}:null}(),i.supportsUserMedia=!!i.mediaDevices,i.protocol=location.protocol.match(/https/i)?"https":"http",i.id=i.opts.id||"Webcam",i.title=i.opts.title||"Camera",i.type="acquirer",i.icon=c;var s={strings:{smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}},l={onBeforeSnapshot:function(){return Promise.resolve()},countdown:!1,locale:s,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,facingMode:"user"};return i.opts=r({},l,o),i.locale=r({},s,i.opts.locale),i.locale.strings=r({},s.strings,i.opts.locale.strings),i.translator=new a({locale:i.locale}),i.i18n=i.translator.translate.bind(i.translator),i.install=i.install.bind(i),i.setPluginState=i.setPluginState.bind(i),i.render=i.render.bind(i),i.start=i.start.bind(i),i.stop=i.stop.bind(i),i.takeSnapshot=i.takeSnapshot.bind(i),i.startRecording=i.startRecording.bind(i),i.stopRecording=i.stopRecording.bind(i),i.oneTwoThreeSmile=i.oneTwoThreeSmile.bind(i),i.focus=i.focus.bind(i),i.webcamActive=!1,i.opts.countdown&&(i.opts.onBeforeSnapshot=i.oneTwoThreeSmile),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isSupported=function(){return!!this.mediaDevices},t.prototype.getConstraints=function(){return{audio:-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("audio-only"),video:!!(-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("video-only")||-1!==this.opts.modes.indexOf("picture"))&&{facingMode:this.opts.facingMode}}},t.prototype.start=function(){var e=this;if(!this.isSupported())return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0;var t=this.getConstraints();return this.mediaDevices.getUserMedia(t).then(function(t){e.stream=t,e.setPluginState({cameraReady:!0})}).catch(function(t){e.setPluginState({cameraError:t})})},t.prototype.startRecording=function(){var e=this;this.recorder=new MediaRecorder(this.stream),this.recordingChunks=[],this.recorder.addEventListener("dataavailable",function(t){e.recordingChunks.push(t.data)}),this.recorder.start(),this.setPluginState({isRecording:!0})},t.prototype.stopRecording=function(){var e=this;return new Promise(function(t,n){e.recorder.addEventListener("stop",function(){t()}),e.recorder.stop()}).then(function(){return e.setPluginState({isRecording:!1}),e.getVideo()}).then(function(t){try{e.uppy.addFile(t)}catch(n){}}).then(function(){e.recordingChunks=null,e.recorder=null},function(t){throw e.recordingChunks=null,e.recorder=null,t})},t.prototype.stop=function(){this.stream.getAudioTracks().forEach(function(e){e.stop()}),this.stream.getVideoTracks().forEach(function(e){e.stop()}),this.webcamActive=!1,this.stream=null},t.prototype.getVideoElement=function(){return this.el.querySelector(".uppy-Webcam-video")},t.prototype.oneTwoThreeSmile=function(){var e=this;return new Promise(function(t,n){var o=e.opts.countdown,r=setInterval(function(){if(!e.webcamActive)return clearInterval(r),e.captureInProgress=!1,n(new Error("Webcam is not active"));o>0?(e.uppy.info(o+"...","warning",800),o--):(clearInterval(r),e.uppy.info(e.i18n("smile"),"success",1500),setTimeout(function(){return t()},1500))},1e3)})},t.prototype.takeSnapshot=function(){var e=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(t){var n="object"===("undefined"===typeof t?"undefined":o(t))?t.message:t;return e.uppy.info(n,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: "+n))}).then(function(){return e.getImage()}).then(function(t){e.captureInProgress=!1;try{e.uppy.addFile(t)}catch(n){}},function(t){throw e.captureInProgress=!1,t}))},t.prototype.getImage=function(){var e=this,t=this.getVideoElement();if(!t)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var n="webcam-"+Date.now()+".jpg",o=t.videoWidth,r=t.videoHeight,i=document.createElement("canvas");return i.width=o,i.height=r,i.getContext("2d").drawImage(t,0,0),u(i,"image/jpeg").then(function(t){return{source:e.id,name:n,data:new Blob([t],{type:"image/jpeg"}),type:"image/jpeg"}})},t.prototype.getVideo=function(){var e=this.recordingChunks[0].type,t=l(e);if(!t)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'+e+'"'));var n="webcam-"+Date.now()+"."+t,o=new Blob(this.recordingChunks,{type:e}),r={source:this.id,name:n,data:new Blob([o],{type:e}),type:e};return Promise.resolve(r)},t.prototype.focus=function(){var e=this;this.opts.countdown||setTimeout(function(){e.uppy.info(e.i18n("smile"),"success",1500)},1e3)},t.prototype.render=function(e){this.webcamActive||this.start();var t=this.getPluginState();return t.cameraReady?i(d,r({},t,{onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,supportsRecording:p(),recording:t.isRecording,mirror:this.opts.mirror,src:this.stream})):i(h,{icon:c,i18n:this.i18n})},t.prototype.install=function(){this.setPluginState({cameraReady:!1});var e=this.opts.target;e&&this.mount(e,this)},t.prototype.uninstall=function(){this.stream&&this.stop(),this.unmount()},t}(s)},2526:function(e,t){var n={"video/ogg":"ogv","audio/ogg":"ogg","video/webm":"webm","audio/webm":"webm","video/mp4":"mp4","audio/mp3":"mp3"};e.exports=function(e){return n[e]||null}},2527:function(e,t,n){var o=n(1841);e.exports=function(e,t,n){return e.toBlob?new Promise(function(o){e.toBlob(o,t,n)}):Promise.resolve().then(function(){return o(e.toDataURL(t,n),{})})}},2528:function(e,t){e.exports=function(){return"function"===typeof MediaRecorder&&!!MediaRecorder.prototype&&"function"===typeof MediaRecorder.prototype.start}},2529:function(e,t,n){var o=n(1131),r=o.h,i=o.Component,s=n(2530),a=n(2531);function l(e,t){return-1!==e.indexOf(t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.onFocus(),this.btnContainer.firstChild.focus()},t.prototype.componentWillUnmount=function(){this.props.onStop()},t.prototype.render=function(){var e=this,t=this.props.supportsRecording&&(l(this.props.modes,"video-only")||l(this.props.modes,"audio-only")||l(this.props.modes,"video-audio")),n=l(this.props.modes,"picture");return r("div",{class:"uppy uppy-Webcam-container"},r("div",{class:"uppy-Webcam-videoContainer"},r("video",{class:"uppy-Webcam-video  "+(this.props.mirror?"uppy-Webcam-video--mirrored":""),autoplay:!0,muted:!0,playsinline:!0,srcObject:this.props.src||""})),r("div",{class:"uppy-Webcam-buttonContainer",ref:function(t){e.btnContainer=t}},n?s(this.props):null," ",t?a(this.props):null))},t}(i);e.exports=u},2530:function(e,t,n){var o=n(1131).h,r=n(1845);e.exports=function(e){var t=e.onSnapshot,n=e.i18n;return o("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:n("takePicture"),"aria-label":n("takePicture"),onclick:t},r())}},2531:function(e,t,n){var o=n(1131).h;e.exports=function(e){var t=e.recording,n=e.onStartRecording,r=e.onStopRecording,i=e.i18n;return console.log("is recording",t),t?o("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--video",type:"button",title:i("stopRecording"),"aria-label":i("stopRecording"),onclick:r},o("svg",{"aria-hidden":"true",class:"UppyIcon",width:"100",height:"100",viewBox:"0 0 100 100"},o("rect",{x:"15",y:"15",width:"70",height:"70"}))):o("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--video",type:"button",title:i("startRecording"),"aria-label":i("startRecording"),onclick:n},o("svg",{"aria-hidden":"true",class:"UppyIcon",width:"100",height:"100",viewBox:"0 0 100 100"},o("circle",{cx:"50",cy:"50",r:"40"})))}},2532:function(e,t,n){var o=n(1131).h;e.exports=function(e){return o("div",{class:"uppy-Webcam-permissons"},o("div",{class:"uppy-Webcam-permissonsIcon"},e.icon()),o("h1",{class:"uppy-Webcam-title"},e.i18n("allowAccessTitle")),o("p",null,e.i18n("allowAccessDescription")))}},2533:function(e,t,n){var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var r=n(1216).Plugin,i=n(2534),s=n(1457),a=s.Provider,l=s.RequestClient,u=s.Socket,p=n(2549),c=n(2550),d=n(2551),h=n(2552),f={endpoint:"",resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null};function g(e){var t=[];return{on:function(n,o){return t.push([n,o]),e.on(n,o)},remove:function(){t.forEach(function(t){var n=t[0],o=t[1];e.off(n,o)})}}}e.exports=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,n,r));i.type="uploader",i.id="Tus",i.title="Tus";return i.opts=o({},{resume:!0,autoRetry:!0,useFastRemoteRetry:!0,limit:0,retryDelays:[0,1e3,3e3,5e3]},r),"number"===typeof i.opts.limit&&0!==i.opts.limit?i.limitUploads=h(i.opts.limit):i.limitUploads=function(e){return e},i.uploaders=Object.create(null),i.uploaderEvents=Object.create(null),i.uploaderSockets=Object.create(null),i.handleResetProgress=i.handleResetProgress.bind(i),i.handleUpload=i.handleUpload.bind(i),i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleResetProgress=function(){var e=o({},this.uppy.getState().files);Object.keys(e).forEach(function(t){if(e[t].tus&&e[t].tus.uploadUrl){var n=o({},e[t].tus);delete n.uploadUrl,e[t]=o({},e[t],{tus:n})}}),this.uppy.setState({files:e})},t.prototype.resetUploaderReferences=function(e){this.uploaders[e]&&(this.uploaders[e].abort(),this.uploaders[e]=null),this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null)},t.prototype.upload=function(e,t,n){var r=this;return this.resetUploaderReferences(e.id),new Promise(function(t,n){var s=o({},f,r.opts,e.tus||{});s.onError=function(t){r.uppy.log(t),r.uppy.emit("upload-error",e,t),t.message="Failed because: "+t.message,r.resetUploaderReferences(e.id),n(t)},s.onProgress=function(t,n){r.onReceiveUploadUrl(e,u.url),r.uppy.emit("upload-progress",e,{uploader:r,bytesUploaded:t,bytesTotal:n})},s.onSuccess=function(){r.uppy.emit("upload-success",e,u,u.url),u.url&&r.uppy.log("Download "+u.file.name+" from "+u.url),r.resetUploaderReferences(e.id),t(u)};var a=function(e,t,n){Object.prototype.hasOwnProperty.call(e,t)&&!Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=e[t])},l=o({},e.meta);a(l,"type","filetype"),a(l,"name","filename"),s.metadata=l;var u=new i.Upload(e.data,s);r.uploaders[e.id]=u,r.uploaderEvents[e.id]=g(r.uppy),r.onFileRemove(e.id,function(n){r.resetUploaderReferences(e.id),t("upload "+n+" was removed")}),r.onPause(e.id,function(e){e?u.abort():u.start()}),r.onPauseAll(e.id,function(){u.abort()}),r.onCancelAll(e.id,function(){r.resetUploaderReferences(e.id)}),r.onResumeAll(e.id,function(){e.error&&u.abort(),u.start()}),e.isPaused||u.start()})},t.prototype.uploadRemote=function(e,t,n){var r=this;this.resetUploaderReferences(e.id);var i=o({},this.opts,e.tus||{});return new Promise(function(t,n){if(r.uppy.log(e.remote.url),e.serverToken)return r.connectToServerSocket(e).then(function(){return t()}).catch(n);r.uppy.emit("upload-started",e),new(e.remote.providerOptions.provider?a:l)(r.uppy,e.remote.providerOptions).post(e.remote.url,o({},e.remote.body,{endpoint:i.endpoint,uploadUrl:i.uploadUrl,protocol:"tus",size:e.data.size,metadata:e.meta})).then(function(t){return r.uppy.setFileState(e.id,{serverToken:t.token}),e=r.uppy.getFile(e.id)}).then(function(e){return r.connectToServerSocket(e)}).then(function(){t()}).catch(function(e){n(new Error(e))})})},t.prototype.connectToServerSocket=function(e){var t=this;return new Promise(function(n,r){var i=e.serverToken,s=c(e.remote.serverUrl),a=new u({target:s+"/api/"+i});t.uploaderSockets[e.id]=a,t.uploaderEvents[e.id]=g(t.uppy),t.onFileRemove(e.id,function(){a.send("pause",{}),n("upload "+e.id+" was removed")}),t.onPause(e.id,function(e){e?a.send("pause",{}):a.send("resume",{})}),t.onPauseAll(e.id,function(){return a.send("pause",{})}),t.onCancelAll(e.id,function(){return a.send("pause",{})}),t.onResumeAll(e.id,function(){e.error&&a.send("pause",{}),a.send("resume",{})}),t.onRetry(e.id,function(){a.send("pause",{}),a.send("resume",{})}),t.onRetryAll(e.id,function(){a.send("pause",{}),a.send("resume",{})}),e.isPaused&&a.send("pause",{}),a.on("progress",function(n){return p(t,n,e)}),a.on("error",function(n){var i=n.error.message,s=o(new Error(i),{cause:n.error});t.opts.useFastRemoteRetry||(t.resetUploaderReferences(e.id),t.uppy.setFileState(e.id,{serverToken:null})),t.uppy.emit("upload-error",e,s),r(s)}),a.on("success",function(o){t.uppy.emit("upload-success",e,o,o.url),t.resetUploaderReferences(e.id),n()})})},t.prototype.onReceiveUploadUrl=function(e,t){var n=this.uppy.getFile(e.id);n&&(n.tus&&n.tus.uploadUrl===t||(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(n.id,{tus:o({},n.tus,{uploadUrl:t})})))},t.prototype.onFileRemove=function(e,t){this.uploaderEvents[e].on("file-removed",function(n){e===n.id&&t(n.id)})},t.prototype.onPause=function(e,t){this.uploaderEvents[e].on("upload-pause",function(n,o){e===n&&t(o)})},t.prototype.onRetry=function(e,t){this.uploaderEvents[e].on("upload-retry",function(n){e===n&&t()})},t.prototype.onRetryAll=function(e,t){var n=this;this.uploaderEvents[e].on("retry-all",function(o){n.uppy.getFile(e)&&t()})},t.prototype.onPauseAll=function(e,t){var n=this;this.uploaderEvents[e].on("pause-all",function(){n.uppy.getFile(e)&&t()})},t.prototype.onCancelAll=function(e,t){var n=this;this.uploaderEvents[e].on("cancel-all",function(){n.uppy.getFile(e)&&t()})},t.prototype.onResumeAll=function(e,t){var n=this;this.uploaderEvents[e].on("resume-all",function(){n.uppy.getFile(e)&&t()})},t.prototype.uploadFiles=function(e){var t=this,n=e.map(function(n,o){var r=parseInt(o,10)+1,i=e.length;return n.error?function(){return Promise.reject(new Error(n.error))}:n.isRemote?(t.uppy.emit("upload-started",n),t.uploadRemote.bind(t,n,r,i)):(t.uppy.emit("upload-started",n),t.upload.bind(t,n,r,i))}).map(function(e){return t.limitUploads(e)()});return d(n)},t.prototype.handleUpload=function(e){var t=this;if(0===e.length)return this.uppy.log("Tus: no files to upload!"),Promise.resolve();this.uppy.log("Tus is uploading...");var n=e.map(function(e){return t.uppy.getFile(e)});return this.uploadFiles(n).then(function(){return null})},t.prototype.install=function(){this.uppy.setState({capabilities:o({},this.uppy.getState().capabilities,{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress),this.opts.autoRetry&&this.uppy.on("back-online",this.uppy.retryAll)},t.prototype.uninstall=function(){this.uppy.setState({capabilities:o({},this.uppy.getState().capabilities,{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload),this.opts.autoRetry&&this.uppy.off("back-online",this.uppy.retryAll)},t}(r)},2534:function(e,t,n){"use strict";var o,r=n(2535),i=(o=r)&&o.__esModule?o:{default:o},s=n(1846);var a=i.default.defaultOptions,l=void 0;if("undefined"!==typeof window){var u=window,p=u.XMLHttpRequest,c=u.Blob;l=p&&c&&"function"===typeof c.prototype.slice}else l=!0;e.exports={Upload:i.default,isSupported:l,canStoreURLs:s.canStoreURLs,defaultOptions:a}},2535:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(2536)),i=c(n(2537)),s=c(n(2538)),a=n(2539),l=n(2540),u=n(2544),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1846));function c(e){return e&&e.__esModule?e:{default:e}}var d={endpoint:null,fingerprint:r.default,resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1,uploadUrl:null,uploadSize:null,overridePatchMethod:!1,retryDelays:null,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1},h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=(0,s.default)(!0,{},d,n),this.file=t,this.url=null,this._xhr=null,this._fingerprint=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0}return o(e,[{key:"start",value:function(){var e=this,t=this.file;t?this.options.endpoint||this.options.uploadUrl?this._source?this._start(this._source):(0,u.getSource)(t,this.options.chunkSize,function(t,n){t?e._emitError(t):(e._source=n,e._start(n))}):this._emitError(new Error("tus: neither an endpoint or an upload URL is provided")):this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_start",value:function(e){var t=this,n=this.file;if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){if(this._size=+this.options.uploadSize,isNaN(this._size))return void this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(this._size=e.size,null==this._size)return void this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));var o=this.options.retryDelays;if(null!=o){if("[object Array]"!==Object.prototype.toString.call(o))return void this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));!function(){var e=t.options.onError;t.options.onError=function(n){t.options.onError=e,null!=t._offset&&t._offset>t._offsetBeforeRetry&&(t._retryAttempt=0);var r=!0;if("undefined"!==typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(r=!1),t._retryAttempt<o.length&&null!=n.originalRequest&&!f(n.originalRequest.status,400)&&r){var i=o[t._retryAttempt++];t._offsetBeforeRetry=t._offset,t.options.uploadUrl=t.url,t._retryTimeout=setTimeout(function(){t.start()},i)}else t._emitError(n)}}()}if(this._aborted=!1,null==this.url){if(null!=this.options.uploadUrl)return this.url=this.options.uploadUrl,void this._resumeUpload();if(this.options.resume){this._fingerprint=this.options.fingerprint(n,this.options);var r=p.getItem(this._fingerprint);if(null!=r)return this.url=r,void this._resumeUpload()}this._createUpload()}else this._resumeUpload()}},{key:"abort",value:function(){null!==this._xhr&&(this._xhr.abort(),this._source.close(),this._aborted=!0),null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null)}},{key:"_emitXhrError",value:function(e,t,n){this._emitError(new i.default(t,n,e))}},{key:"_emitError",value:function(e){if("function"!==typeof this.options.onError)throw e;this.options.onError(e)}},{key:"_emitSuccess",value:function(){"function"===typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(e,t){"function"===typeof this.options.onProgress&&this.options.onProgress(e,t)}},{key:"_emitChunkComplete",value:function(e,t,n){"function"===typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,n)}},{key:"_setupXHR",value:function(e){this._xhr=e,e.setRequestHeader("Tus-Resumable","1.0.0");var t=this.options.headers;for(var n in t)e.setRequestHeader(n,t[n]);e.withCredentials=this.options.withCredentials}},{key:"_createUpload",value:function(){var e=this;if(this.options.endpoint){var t=(0,l.newRequest)();t.open("POST",this.options.endpoint,!0),t.onload=function(){if(f(t.status,200)){var n=t.getResponseHeader("Location");if(null!=n){if(e.url=(0,l.resolveUrl)(e.options.endpoint,n),0===e._size)return e._emitSuccess(),void e._source.close();e.options.resume&&p.setItem(e._fingerprint,e.url),e._offset=0,e._startUpload()}else e._emitXhrError(t,new Error("tus: invalid or missing Location header"))}else e._emitXhrError(t,new Error("tus: unexpected response while creating upload"))},t.onerror=function(n){e._emitXhrError(t,new Error("tus: failed to create upload"),n)},this._setupXHR(t),this.options.uploadLengthDeferred?t.setRequestHeader("Upload-Defer-Length",1):t.setRequestHeader("Upload-Length",this._size);var n=function(e){var t=[];for(var n in e)t.push(n+" "+a.Base64.encode(e[n]));return t.join(",")}(this.options.metadata);""!==n&&t.setRequestHeader("Upload-Metadata",n),t.send(null)}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var e=this,t=(0,l.newRequest)();t.open("HEAD",this.url,!0),t.onload=function(){if(!f(t.status,200))return e.options.resume&&f(t.status,400)&&p.removeItem(e._fingerprint),423===t.status?void e._emitXhrError(t,new Error("tus: upload is currently locked; retry later")):e.options.endpoint?(e.url=null,void e._createUpload()):void e._emitXhrError(t,new Error("tus: unable to resume upload (new upload cannot be created without an endpoint)"));var n=parseInt(t.getResponseHeader("Upload-Offset"),10);if(isNaN(n))e._emitXhrError(t,new Error("tus: invalid or missing offset value"));else{var o=parseInt(t.getResponseHeader("Upload-Length"),10);if(!isNaN(o)||e.options.uploadLengthDeferred){if(n===o)return e._emitProgress(o,o),void e._emitSuccess();e._offset=n,e._startUpload()}else e._emitXhrError(t,new Error("tus: invalid or missing length value"))}},t.onerror=function(n){e._emitXhrError(t,new Error("tus: failed to resume upload"),n)},this._setupXHR(t),t.send(null)}},{key:"_startUpload",value:function(){var e=this;if(!this._aborted){var t=(0,l.newRequest)();this.options.overridePatchMethod?(t.open("POST",this.url,!0),t.setRequestHeader("X-HTTP-Method-Override","PATCH")):t.open("PATCH",this.url,!0),t.onload=function(){if(f(t.status,200)){var n=parseInt(t.getResponseHeader("Upload-Offset"),10);if(isNaN(n))e._emitXhrError(t,new Error("tus: invalid or missing offset value"));else{if(e._emitProgress(n,e._size),e._emitChunkComplete(n-e._offset,n,e._size),e._offset=n,n==e._size)return e.options.removeFingerprintOnSuccess&&e.options.resume&&p.removeItem(e._fingerprint),e._emitSuccess(),void e._source.close();e._startUpload()}}else e._emitXhrError(t,new Error("tus: unexpected response while uploading chunk"))},t.onerror=function(n){e._aborted||e._emitXhrError(t,new Error("tus: failed to upload chunk at offset "+e._offset),n)},"upload"in t&&(t.upload.onprogress=function(t){t.lengthComputable&&e._emitProgress(n+t.loaded,e._size)}),this._setupXHR(t),t.setRequestHeader("Upload-Offset",this._offset),t.setRequestHeader("Content-Type","application/offset+octet-stream");var n=this._offset,o=this._offset+this.options.chunkSize;(o===1/0||o>this._size)&&!this.options.uploadLengthDeferred&&(o=this._size),this.options.uploadLengthDeferred?this._source.slice(n,o,function(n,o){n?e._emitError(n):null===o?(e._size=e._offset,t.setRequestHeader("Upload-Length",e._offset),t.send()):(t.send(o),e._emitProgress(e._offset,e._size))}):(this._source.slice(n,o,function(r,s){r?e._emitError(new i.default("tus: could not slice file or stream (from "+n+" to "+o+")",r)):t.send(s)}),this._emitProgress(this._offset,this._size))}}}]),e}();function f(e,t){return e>=t&&e<t+100}h.defaultOptions=d,t.default=h},2536:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return["tus",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-")}},2537:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],o=arguments.length<=2||void 0===arguments[2]?null:arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,Object.getPrototypeOf(t).call(this,e.message));r.originalRequest=o,r.causingError=n;var i=e.message;return null!=n&&(i+=", caused by "+n.toString()),null!=o&&(i+=", originated from request (response code: "+o.status+", response text: "+o.responseText+")"),r.message=i,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();t.default=o},2538:function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},l=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,n=o.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;for(t in e);return"undefined"===typeof t||o.call(e,t)},u=function(e,t){i&&"__proto__"===t.name?i(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},p=function(e,t){if("__proto__"===t){if(!o.call(e,t))return;if(s)return s(e,t).value}return e[t]};e.exports=function e(){var t,n,o,r,i,s,c=arguments[0],d=1,h=arguments.length,f=!1;for("boolean"===typeof c&&(f=c,c=arguments[1]||{},d=2),(null==c||"object"!==typeof c&&"function"!==typeof c)&&(c={});d<h;++d)if(null!=(t=arguments[d]))for(n in t)o=p(c,n),c!==(r=p(t,n))&&(f&&r&&(l(r)||(i=a(r)))?(i?(i=!1,s=o&&a(o)?o:[]):s=o&&l(o)?o:{},u(c,{name:n,newValue:e(f,s,r)})):"undefined"!==typeof r&&u(c,{name:n,newValue:r}));return c}},2539:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:this,function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if("undefined"!==typeof module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,o=e.length;n<o;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,o=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),r=[fromCharCode(o>>>16),fromCharCode(o>>>8&255),fromCharCode(255&o)];return r.length-=[0,0,2,1][n],r.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"===typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),"undefined"!==typeof module&&module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}})}).call(this,__webpack_require__(37))},2540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newRequest=function(){return new window.XMLHttpRequest},t.resolveUrl=function(e,t){return new i.default(t,e).toString()};var o,r=n(2541),i=(o=r)&&o.__esModule?o:{default:o}},2541:function(e,t,n){"use strict";(function(t){var o=n(2542),r=n(2543),i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function u(e){var n,o=("undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{}).location||{},r={},i=typeof(e=e||o);if("blob:"===e.protocol)r=new c(unescape(e.pathname),{});else if("string"===i)for(n in r=new c(e,{}),l)delete r[n];else if("object"===i){for(n in e)n in l||(r[n]=e[n]);void 0===r.slashes&&(r.slashes=s.test(e.href))}return r}function p(e){var t=i.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function c(e,t,n){if(!(this instanceof c))return new c(e,t,n);var i,s,l,d,h,f,g=a.slice(),y=typeof t,m=this,v=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!==typeof n&&(n=r.parse),t=u(t),i=!(s=p(e||"")).protocol&&!s.slashes,m.slashes=s.slashes||i&&t.slashes,m.protocol=s.protocol||t.protocol||"",e=s.rest,s.slashes||(g[3]=[/(.*)/,"pathname"]);v<g.length;v++)"function"!==typeof(d=g[v])?(l=d[0],f=d[1],l!==l?m[f]=e:"string"===typeof l?~(h=e.indexOf(l))&&("number"===typeof d[2]?(m[f]=e.slice(0,h),e=e.slice(h+d[2])):(m[f]=e.slice(h),e=e.slice(0,h))):(h=l.exec(e))&&(m[f]=h[1],e=e.slice(0,h.index)),m[f]=m[f]||i&&d[3]&&t[f]||"",d[4]&&(m[f]=m[f].toLowerCase())):e=d(e);n&&(m.query=n(m.query)),i&&t.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==t.pathname)&&(m.pathname=function(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),o=n.length,r=n[o-1],i=!1,s=0;o--;)"."===n[o]?n.splice(o,1):".."===n[o]?(n.splice(o,1),s++):s&&(0===o&&(i=!0),n.splice(o,1),s--);return i&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}(m.pathname,t.pathname)),o(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(d=m.auth.split(":"),m.username=d[0]||"",m.password=d[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}c.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||r.parse)(t)),i[e]=t;break;case"port":i[e]=t,o(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";i[e]=t.charAt(0)!==s?s+t:t}else i[e]=t;break;default:i[e]=t}for(var l=0;l<a.length;l++){var u=a[l];u[4]&&(i[u[1]]=i[u[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"===typeof e||(e=r.stringify);var t,n=this,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var i=o+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(t="object"===typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}},c.extractProtocol=p,c.location=u,c.qs=r,e.exports=c}).call(this,n(37))},2542:function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},2543:function(e,t,n){"use strict";var o,r=Object.prototype.hasOwnProperty;function i(e){return decodeURIComponent(e.replace(/\+/g," "))}t.stringify=function(e,t){t=t||"";var n,i,s=[];for(i in"string"!==typeof t&&(t="?"),e)r.call(e,i)&&((n=e[i])||null!==n&&n!==o&&!isNaN(n)||(n=""),s.push(encodeURIComponent(i)+"="+encodeURIComponent(n)));return s.length?t+s.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,o={};t=n.exec(e);){var r=i(t[1]),s=i(t[2]);r in o||(o[r]=s)}return o}},2544:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getSource=function(e,t,n){if((r.default||window.__tus__forceReactNative)&&e&&"undefined"!==typeof e.uri)return void(0,i.default)(e.uri,function(e,t){if(e)return n(new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. "+e));n(null,new p(t))});if("function"===typeof e.slice&&"undefined"!==typeof e.size)return void n(null,new p(e));if("function"===typeof e.read)return t=+t,isFinite(t)?void n(null,new c(e,t)):void n(new Error("cannot create source for stream without a finite value for the `chunkSize` option"));n(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))};var r=l(n(2545)),i=l(n(2546)),s=l(n(2547)),a=l(n(2548));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function(){function e(t){u(this,e),this._file=t,this.size=t.size}return o(e,[{key:"slice",value:function(e,t,n){(0,s.default)()?(0,a.default)(this._file.slice(e,t),function(e,t){if(e)return n(e);n(null,t)}):n(null,this._file.slice(e,t))}},{key:"close",value:function(){}}]),e}(),c=function(){function e(t,n){u(this,e),this._chunkSize=n,this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}return o(e,[{key:"slice",value:function(e,t,n){if(!(e<this._bufferOffset))return this._readUntilEnoughDataOrDone(e,t,n);n(new Error("Requested data is before the reader's current offset"))}},{key:"_readUntilEnoughDataOrDone",value:function(e,t,n){var o=this,r=t<=this._bufferOffset+d(this._buffer);if(this._done||r){var i=this._getDataFromBuffer(e,t);n(null,i)}else this._reader.read().then(function(r){var i=r.value;r.done?o._done=!0:void 0===o._buffer?o._buffer=i:o._buffer=function(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}throw new Error("Unknown data type")}(o._buffer,i),o._readUntilEnoughDataOrDone(e,t,n)}).catch(function(e){n(new Error("Error during read: "+e))})}},{key:"_getDataFromBuffer",value:function(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);var n=0===d(this._buffer);return this._done&&n?null:this._buffer.slice(0,t-e)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),e}();function d(e){return void 0===e?0:void 0!==e.size?e.size:e.length}},2545:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();t.default=o},2546:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var e=n.response;t(null,e)},n.onerror=function(e){t(e)},n.open("GET",e),n.send()}},2547:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){return"undefined"!=typeof window&&("undefined"!=typeof window.PhoneGap||"undefined"!=typeof window.Cordova||"undefined"!=typeof window.cordova)}},2548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new FileReader;n.onload=function(){t(null,new Uint8Array(n.result))},n.onerror=function(e){t(e)},n.readAsArrayBuffer(e)}},2549:function(e,t,n){var o=n(1241);e.exports=o(function(e,t,n){var o=t.progress,r=t.bytesUploaded,i=t.bytesTotal;o&&(e.uppy.log("Upload progress: "+o),e.uppy.emit("upload-progress",n,{uploader:e,bytesUploaded:r,bytesTotal:i}))},300,{leading:!0,trailing:!0})},2550:function(e,t){e.exports=function(e){var t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/.exec(e)[1];return("https:"===location.protocol?"wss":"ws")+"://"+t}},2551:function(e,t){e.exports=function(e){var t=[],n=[];function o(e){t.push(e)}function r(e){n.push(e)}return Promise.all(e.map(function(e){return e.then(o,r)})).then(function(){return{successful:t,failed:n}})}},2552:function(e,t){e.exports=function(e){var t=0,n=[];return function(r){return function(){for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];var l=function(){t++;var e=r.apply(void 0,s);return e.then(o,o),e};return t>=e?new Promise(function(e,t){n.push(function(){l().then(e,t)})}):l()}};function o(){t--;var e=n.shift();e&&e()}}}}]);
//# sourceMappingURL=142.c6a01491.chunk.js.map